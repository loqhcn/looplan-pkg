(function(K,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(K=typeof globalThis<"u"?globalThis:K||self,e(K["looplan-ui"]={},K.Vue))})(this,function(K,e){"use strict";var Es=Object.defineProperty;var $s=(K,e,ne)=>e in K?Es(K,e,{enumerable:!0,configurable:!0,writable:!0,value:ne}):K[e]=ne;var U=(K,e,ne)=>$s(K,typeof e!="symbol"?e+"":e,ne);const ne=(n,o)=>{const a=n.__vccOpts||n;for(const[t,l]of o)a[t]=l;return a},Ct={name:"lp-empty"},Bt={class:"m-empty"};function Vt(n,o,a,t,l,s){return e.openBlock(),e.createElementBlock("div",Bt," 数据为空! ")}const Me=ne(Ct,[["render",Vt]]),St=Object.freeze(Object.defineProperty({__proto__:null,default:{install:n=>{n.component(Me.name,Me)}}},Symbol.toStringTag,{value:"Module"})),xt={name:"LpForm"},_e=e.defineComponent({...xt,props:{model:{},rules:{},inline:{type:Boolean,default:!1},labelPosition:{default:"right"},labelWidth:{},labelSuffix:{default:""},hideRequiredAsterisk:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},inlineMessage:{type:Boolean,default:!1},statusIcon:{type:Boolean,default:!1},validateOnRuleChange:{type:Boolean,default:!0},size:{default:"default"},disabled:{type:Boolean,default:!1}},emits:["validate"],setup(n,{expose:o,emit:a}){const t=n,l=a,s=e.ref([]),c=T=>{s.value.push(T)},w=T=>{const V=s.value.indexOf(T);V>-1&&s.value.splice(V,1)},p=async(T,V)=>{const N=s.value.find(O=>O.prop===T);if(!N)return console.warn(`[LpForm] 找不到字段 ${T}`),!1;try{return await N.validate(),V==null||V(!0,""),!0}catch(O){const f=O.message||"验证失败";return V==null||V(!1,f),!1}},m=async T=>{const V=await Promise.allSettled(s.value.map(f=>f.validate())),N=V.every(f=>f.status==="fulfilled"),O=V.filter(f=>f.status==="rejected").map(f=>f.reason.message).join("; ");return T==null||T(N,O),N},h=()=>{s.value.forEach(T=>{T.resetField()})},P=T=>{const V=T?Array.isArray(T)?T:[T]:[];s.value.forEach(N=>{(!T||V.includes(N.prop))&&N.clearValidate()})},I=async()=>{await m()};return e.computed(()=>typeof t.labelWidth=="number"?`${t.labelWidth}px`:t.labelWidth||"auto"),e.provide("lpForm",{props:t,addFormItem:c,removeFormItem:w,validateField:p,emit:l}),o({validate:m,validateField:p,resetFields:h,clearValidate:P}),(T,V)=>(e.openBlock(),e.createElementBlock("form",{class:e.normalizeClass(["lp-form",{"lp-form--inline":T.inline,"lp-form--disabled":T.disabled}]),onSubmit:e.withModifiers(I,["prevent"])},[e.renderSlot(T.$slots,"default")],34))}}),Tt=["for"],vt={key:0,class:"lp-form-item__label-suffix"},jt={class:"lp-form-item__content"},zt={name:"LpFormItem"},be=e.defineComponent({...zt,props:{label:{},labelWidth:{},prop:{},required:{type:Boolean},rules:{},error:{},showMessage:{type:Boolean,default:!0},inlineMessage:{type:Boolean,default:!1},size:{default:"default"},for:{}},setup(n,{expose:o}){const a=n,t=e.inject("lpForm",null),l=e.ref(""),s=e.ref(""),c=e.ref(!1),w=e.computed(()=>{var i;return((i=t==null?void 0:t.props)==null?void 0:i.labelPosition)||"right"}),p=e.computed(()=>{var i;return a.size||((i=t==null?void 0:t.props)==null?void 0:i.size)||"default"}),m=e.computed(()=>a.required!==void 0?a.required:V().some(b=>b.required)),h=e.computed(()=>{var i;return((i=t==null?void 0:t.props)==null?void 0:i.labelSuffix)||""}),P=e.computed(()=>{var i;return l.value==="error"&&a.showMessage&&(((i=t==null?void 0:t.props)==null?void 0:i.showMessage)??!0)}),I=e.computed(()=>{var _;const i={};if(w.value==="top")return i;const b=a.labelWidth||((_=t==null?void 0:t.props)==null?void 0:_.labelWidth);return b&&(i.width=typeof b=="number"?`${b}px`:b),i}),T=e.computed(()=>a.for||`lp-form-item-${Math.random().toString(36).substr(2,9)}`),V=()=>{var v;const i=(v=t==null?void 0:t.props)==null?void 0:v.rules,b=a.rules,_=[];if(i&&a.prop){const S=i[a.prop];S&&_.push(...Array.isArray(S)?S:[S])}return b&&_.push(...Array.isArray(b)?b:[b]),_},N=()=>{var b;const i=(b=t==null?void 0:t.props)==null?void 0:b.model;if(!(!i||!a.prop))return i[a.prop]},O=async i=>{if(!a.prop)return Promise.resolve();const b=V();if(!b.length)return Promise.resolve();const _=i?b.filter(S=>!S.trigger||S.trigger===i):b;if(!_.length)return Promise.resolve();l.value="validating",c.value=!0;const v=N();return new Promise((S,d)=>{let r=0;const g=_.length,C=(j,G)=>{var q,y;if(j)r++;else{l.value="error",s.value=G||"验证失败",c.value=!1,(q=t==null?void 0:t.emit)==null||q.call(t,"validate",a.prop,!1,G||""),d(new Error(G||"验证失败"));return}r===g&&(l.value="success",s.value="",c.value=!1,(y=t==null?void 0:t.emit)==null||y.call(t,"validate",a.prop,!0,""),S())};_.forEach(j=>{f(j,v,C)})})},f=(i,b,_)=>{if(i.required&&(b==null||b==="")){_(!1,i.message||"该字段为必填项");return}if((b==null||b==="")&&!i.required){_(!0);return}if(i.min!==void 0||i.max!==void 0||i.len!==void 0){const v=String(b).length;if(i.len!==void 0&&v!==i.len){_(!1,i.message||`长度必须为 ${i.len} 个字符`);return}if(i.min!==void 0&&v<i.min){_(!1,i.message||`长度不能少于 ${i.min} 个字符`);return}if(i.max!==void 0&&v>i.max){_(!1,i.message||`长度不能超过 ${i.max} 个字符`);return}}if(i.pattern&&!i.pattern.test(String(b))){_(!1,i.message||"格式不正确");return}if(i.validator){i.validator(i,b,v=>{_(!v,v==null?void 0:v.message)});return}_(!0)},k=()=>{var b;l.value="",s.value="",c.value=!1;const i=(b=t==null?void 0:t.props)==null?void 0:b.model;i&&a.prop&&(i[a.prop]=void 0)},H=()=>{l.value="",s.value="",c.value=!1},E={prop:a.prop||"",validate:O,resetField:k,clearValidate:H};return e.onMounted(()=>{var i;a.prop&&((i=t==null?void 0:t.addFormItem)==null||i.call(t,E))}),e.onUnmounted(()=>{var i;a.prop&&((i=t==null?void 0:t.removeFormItem)==null||i.call(t,E))}),e.watch(()=>a.error,i=>{i?(l.value="error",s.value=i):(l.value="",s.value="")},{immediate:!0}),o({validate:O,resetField:k,clearValidate:H}),(i,b)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-form-item",{"lp-form-item--error":l.value==="error","lp-form-item--success":l.value==="success","lp-form-item--validating":l.value==="validating","lp-form-item--required":m.value,[`lp-form-item--${w.value}`]:w.value,[`lp-form-item--${p.value}`]:p.value}])},[i.label||i.$slots.label?(e.openBlock(),e.createElementBlock("label",{key:0,class:"lp-form-item__label",style:e.normalizeStyle(I.value),for:T.value},[e.renderSlot(i.$slots,"label",{},()=>[e.createTextVNode(e.toDisplayString(i.label),1)]),h.value?(e.openBlock(),e.createElementBlock("span",vt,e.toDisplayString(h.value),1)):e.createCommentVNode("",!0)],12,Tt)):e.createCommentVNode("",!0),e.createElementVNode("div",jt,[e.renderSlot(i.$slots,"default"),e.createVNode(e.Transition,{name:"lp-zoom-in-top"},{default:e.withCtx(()=>[P.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["lp-form-item__error",{"lp-form-item__error--inline":i.inlineMessage}])},e.toDisplayString(s.value),3)):e.createCommentVNode("",!0)]),_:1})])],2))}}),Nt={key:0,class:"lp-input__prepend"},Ot={class:"lp-input__wrapper"},Lt={key:0,class:"lp-input__prefix"},Pt=["type","value","placeholder","disabled","readonly","maxlength","minlength","autocomplete","name","form","tabindex"],Mt={key:1,class:"lp-input__suffix"},At={key:1,class:"lp-input__append"},Rt={name:"LpInput"},we=e.defineComponent({...Rt,props:{modelValue:{},type:{default:"text"},placeholder:{},disabled:{type:Boolean},readonly:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},prefixIcon:{},suffixIcon:{},maxlength:{},minlength:{},autocomplete:{},name:{},form:{},tabindex:{},size:{default:"default"},validateEvent:{type:Boolean,default:!0}},emits:["update:modelValue","input","change","focus","blur","clear","keydown","keyup"],setup(n,{expose:o,emit:a}){const t=n,l=a,s=e.inject("lpFormItem",null),c=e.ref(),w=e.ref(!1);e.ref(!1);const p=e.ref(!1),m=e.ref(!1),h=e.computed(()=>t.size||(s==null?void 0:s.size)||"default"),P=async()=>{var r;await e.nextTick(),(r=c.value)==null||r.focus()},I=()=>{var r;(r=c.value)==null||r.blur()},T=()=>{var r;(r=c.value)==null||r.select()},V=()=>{var r;l("update:modelValue",""),l("input",""),l("change",""),l("clear"),t.validateEvent&&((r=s==null?void 0:s.validate)==null||r.call(s,"change"))},N=r=>{var j;const g=r.target;let{value:C}=g;p.value||(l("update:modelValue",C),l("input",C),t.validateEvent&&((j=s==null?void 0:s.validate)==null||j.call(s,"input")))},O=r=>{var j;const g=r.target,{value:C}=g;l("change",C),t.validateEvent&&((j=s==null?void 0:s.validate)==null||j.call(s,"change"))},f=r=>{w.value=!0,l("focus",r)},k=r=>{var g;w.value=!1,l("blur",r),t.validateEvent&&((g=s==null?void 0:s.validate)==null||g.call(s,"blur"))},H=()=>{w.value||P()},E=r=>{r.stopPropagation(),V()},i=()=>{m.value=!m.value,P()},b=r=>{l("keydown",r)},_=r=>{l("keyup",r)},v=()=>{p.value=!0},S=()=>{},d=r=>{p.value=!1,N(r)};return o({focus:P,blur:I,select:T,clear:V,input:c}),(r,g)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-input",{"lp-input--disabled":r.disabled,"lp-input--readonly":r.readonly,"lp-input--clearable":r.clearable&&!r.disabled&&!r.readonly,"lp-input--prefix":r.$slots.prefix||r.prefixIcon,"lp-input--suffix":r.$slots.suffix||r.suffixIcon||r.clearable||r.showPassword,"lp-input--password":r.showPassword,[`lp-input--${h.value}`]:h.value}]),onClick:H},[r.$slots.prepend?(e.openBlock(),e.createElementBlock("div",Nt,[e.renderSlot(r.$slots,"prepend")])):e.createCommentVNode("",!0),e.createElementVNode("div",Ot,[r.$slots.prefix||r.prefixIcon?(e.openBlock(),e.createElementBlock("span",Lt,[e.renderSlot(r.$slots,"prefix",{},()=>[r.prefixIcon?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass(r.prefixIcon)},null,2)):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),e.createElementVNode("input",{ref_key:"inputRef",ref:c,class:"lp-input__inner",type:m.value?"text":r.type,value:r.modelValue,placeholder:r.placeholder,disabled:r.disabled,readonly:r.readonly,maxlength:r.maxlength,minlength:r.minlength,autocomplete:r.autocomplete,name:r.name,form:r.form,tabindex:r.tabindex,onInput:N,onChange:O,onFocus:f,onBlur:k,onKeydown:b,onKeyup:_,onCompositionstart:v,onCompositionupdate:S,onCompositionend:d},null,40,Pt),r.$slots.suffix||r.suffixIcon||r.clearable||r.showPassword?(e.openBlock(),e.createElementBlock("span",Mt,[e.renderSlot(r.$slots,"suffix",{},()=>[r.clearable&&!r.disabled&&!r.readonly&&r.modelValue?(e.openBlock(),e.createElementBlock("i",{key:0,class:"lp-input__clear lp-icon-circle-close",onClick:E})):e.createCommentVNode("",!0),r.showPassword?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass(["lp-input__password",m.value?"lp-icon-view":"lp-icon-hide"]),onClick:i},null,2)):e.createCommentVNode("",!0),r.suffixIcon?(e.openBlock(),e.createElementBlock("i",{key:2,class:e.normalizeClass(r.suffixIcon)},null,2)):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0)]),r.$slots.append?(e.openBlock(),e.createElementBlock("div",At,[e.renderSlot(r.$slots,"append")])):e.createCommentVNode("",!0)],2))}}),Dt={class:"lp-input-number__input"},It=["value","placeholder","disabled","readonly","name","autocomplete"],Wt={key:2,class:"lp-input-number__controls"},Ht={name:"LpInputNumber"},ke=e.defineComponent({...Ht,props:{modelValue:{},min:{},max:{},step:{default:1},stepStrictly:{type:Boolean},precision:{},size:{default:"default"},disabled:{type:Boolean},readonly:{type:Boolean},controls:{type:Boolean,default:!0},controlsPosition:{},name:{},placeholder:{},autocomplete:{default:"off"},validateEvent:{type:Boolean,default:!0}},emits:["update:modelValue","change","input","focus","blur"],setup(n,{expose:o,emit:a}){const t=n,l=a,s=e.inject("lpFormItem",null),c=e.ref(),w=e.ref(null),p=e.ref(!1),m=e.ref(null),h=e.computed(()=>t.size||(s==null?void 0:s.size)||"default"),P=e.computed(()=>{if(t.precision!==void 0)return t.precision;const y=N(t.step),B=N(t.modelValue);return Math.max(y,B)}),I=e.computed(()=>w.value!==null?w.value:t.modelValue===void 0||t.modelValue===null?"":typeof t.modelValue=="number"?t.modelValue.toFixed(P.value):String(t.modelValue)),T=e.computed(()=>t.disabled||t.max!==void 0&&t.modelValue!==void 0&&t.modelValue>=t.max),V=e.computed(()=>t.disabled||t.min!==void 0&&t.modelValue!==void 0&&t.modelValue<=t.min),N=y=>{if(y===void 0)return 0;const B=y.toString(),x=B.indexOf(".");return x!==-1?B.length-x-1:0},O=(y,B)=>(B===void 0&&(B=P.value),parseFloat(Math.round(y*Math.pow(10,B))/Math.pow(10,B)+"")),f=y=>O(y,P.value),k=y=>t.max!==void 0&&y>t.max?t.max:t.min!==void 0&&y<t.min?t.min:y,H=y=>t.stepStrictly?(N(t.step),Math.round(y/t.step)*t.step):y,E=()=>{var y;(y=c.value)==null||y.focus()},i=()=>{var y;(y=c.value)==null||y.blur()},b=()=>{var y;(y=c.value)==null||y.select()},_=()=>{if(T.value)return;const y=t.modelValue||0,B=k(f(y+t.step));S(B)},v=()=>{if(V.value)return;const y=t.modelValue||0,B=k(f(y-t.step));S(B)},S=y=>{var x;const B=t.modelValue;y!==void 0&&(y=H(f(y)),y=k(y)),B!==y&&(w.value=null,l("update:modelValue",y),l("change",y,B),t.validateEvent&&((x=s==null?void 0:s.validate)==null||x.call(s,"change")))},d=y=>{const x=y.target.value;if(w.value=x,x===""){l("update:modelValue",void 0),l("input",void 0);return}const u=Number(x);isNaN(u)||l("input",u)},r=()=>{const y=w.value;if(y===null||y===""){S(void 0);return}const B=Number(y);if(isNaN(B)){w.value=null;return}S(B)},g=y=>{p.value=!0,l("focus",y)},C=y=>{var B;p.value=!1,w.value=null,l("blur",y),t.validateEvent&&((B=s==null?void 0:s.validate)==null||B.call(s,"blur"))},j=y=>{switch(y.key){case"ArrowUp":y.preventDefault(),_();break;case"ArrowDown":y.preventDefault(),v();break}},G=(y,B)=>{if(B.button!==0)return;const x=y==="increase"?_:v;x(),m.value=setTimeout(()=>{const u=setInterval(x,100),M=()=>{clearInterval(u),document.removeEventListener("mouseup",M)};document.addEventListener("mouseup",M)},300)},q=()=>{m.value&&(clearTimeout(m.value),m.value=null)};return e.watch(()=>t.modelValue,y=>{w.value=null},{immediate:!0}),o({focus:E,blur:i,select:b,increase:_,decrease:v}),(y,B)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-input-number",{"lp-input-number--disabled":y.disabled,"lp-input-number--controls-right":y.controlsPosition==="right",[`lp-input-number--${h.value}`]:h.value}])},[y.controlsPosition!=="right"?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["lp-input-number__decrease",{"lp-input-number__decrease--disabled":V.value}]),onMousedown:B[0]||(B[0]=x=>G("decrease",x)),onMouseup:q,onMouseleave:q},B[4]||(B[4]=[e.createElementVNode("i",{class:"lp-input-number__decrease-icon"},"-",-1)]),34)):e.createCommentVNode("",!0),e.createElementVNode("div",Dt,[e.createElementVNode("input",{ref_key:"inputRef",ref:c,class:"lp-input-number__inner",type:"text",value:I.value,placeholder:y.placeholder,disabled:y.disabled,readonly:y.readonly,name:y.name,autocomplete:y.autocomplete,onInput:d,onChange:r,onFocus:g,onBlur:C,onKeydown:j},null,40,It)]),y.controlsPosition!=="right"?(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["lp-input-number__increase",{"lp-input-number__increase--disabled":T.value}]),onMousedown:B[1]||(B[1]=x=>G("increase",x)),onMouseup:q,onMouseleave:q},B[5]||(B[5]=[e.createElementVNode("i",{class:"lp-input-number__increase-icon"},"+",-1)]),34)):e.createCommentVNode("",!0),y.controlsPosition==="right"?(e.openBlock(),e.createElementBlock("div",Wt,[e.createElementVNode("span",{class:e.normalizeClass(["lp-input-number__increase",{"lp-input-number__increase--disabled":T.value}]),onMousedown:B[2]||(B[2]=x=>G("increase",x)),onMouseup:q,onMouseleave:q},B[6]||(B[6]=[e.createElementVNode("i",{class:"lp-input-number__increase-icon"},"▲",-1)]),34),e.createElementVNode("span",{class:e.normalizeClass(["lp-input-number__decrease",{"lp-input-number__decrease--disabled":V.value}]),onMousedown:B[3]||(B[3]=x=>G("decrease",x)),onMouseup:q,onMouseleave:q},B[7]||(B[7]=[e.createElementVNode("i",{class:"lp-input-number__decrease-icon"},"▼",-1)]),34)])):e.createCommentVNode("",!0)],2))}}),Ut={class:"lp-select__selection"},qt={class:"lp-select__tag-text"},Kt=["onClick"],Gt=["placeholder","disabled"],Xt=["placeholder","disabled","readonly"],Yt={class:"lp-select__suffix"},Zt={class:"lp-select__dropdown-wrap"},Ft={key:0,class:"lp-select__empty"},Jt=["onClick","onMouseenter"],Qt={key:0,class:"lp-select__option-check lp-icon-check"},eo={name:"LpSelect"},Ee=e.defineComponent({...eo,props:{modelValue:{type:[String,Number,Boolean,Object,Array]},options:{default:()=>[]},placeholder:{default:"请选择"},disabled:{type:Boolean},clearable:{type:Boolean},filterable:{type:Boolean},multiple:{type:Boolean},multipleLimit:{},size:{default:"default"},valueKey:{default:"value"},labelKey:{default:"label"},emptyText:{default:"无匹配数据"},noDataText:{default:"无数据"},validateEvent:{type:Boolean,default:!0}},emits:["update:modelValue","change","visible-change","remove-tag","clear","focus","blur"],setup(n,{expose:o,emit:a}){const t=n,l=a,s=e.inject("lpFormItem",null),c=e.ref(),w=e.ref(!1),p=e.ref(""),m=e.ref(""),h=e.ref(-1),P=e.ref({}),I=e.computed(()=>t.size||(s==null?void 0:s.size)||"default"),T=e.computed(()=>t.multiple?(Array.isArray(t.modelValue)?t.modelValue:[]).map(M=>t.options.find(Z=>f(Z)===M)||{[t.valueKey]:M,[t.labelKey]:String(M)}):[]),V=e.computed(()=>t.multiple?Array.isArray(t.modelValue)&&t.modelValue.length>0:t.modelValue!==void 0&&t.modelValue!==null&&t.modelValue!==""),N=e.computed(()=>!t.filterable||!p.value?t.options:t.options.filter(u=>k(u).toLowerCase().includes(p.value.toLowerCase()))),O=e.computed(()=>t.filterable&&p.value&&!N.value.length||t.options.length?t.emptyText:t.noDataText),f=u=>u[t.valueKey]??u,k=u=>u[t.labelKey]??String(u[t.valueKey]??u),H=u=>String(f(u)),E=u=>{const M=f(u);return t.multiple?Array.isArray(t.modelValue)&&t.modelValue.includes(M):t.modelValue===M},i=u=>u.disabled===!0,b=()=>{var u;(u=c.value)==null||u.focus()},_=()=>{var u;(u=c.value)==null||u.blur()},v=()=>{t.disabled||(w.value=!w.value)},S=()=>{t.disabled||(w.value=!0)},d=()=>{w.value=!1,p.value="",h.value=-1},r=()=>{t.disabled||(t.filterable?(S(),e.nextTick(()=>{b()})):v())},g=u=>{var Z;if(i(u))return;const M=f(u);if(t.multiple){const R=Array.isArray(t.modelValue)?[...t.modelValue]:[],F=R.indexOf(M);if(F>-1)R.splice(F,1);else{if(t.multipleLimit&&R.length>=t.multipleLimit)return;R.push(M)}l("update:modelValue",R),l("change",R)}else l("update:modelValue",M),l("change",M),m.value=k(u),d();t.validateEvent&&((Z=s==null?void 0:s.validate)==null||Z.call(s,"change"))},C=()=>{var M;const u=t.multiple?[]:"";l("update:modelValue",u),l("change",u),l("clear"),t.multiple||(m.value=""),t.validateEvent&&((M=s==null?void 0:s.validate)==null||M.call(s,"change"))},j=u=>{var R;if(t.disabled)return;const M=Array.isArray(t.modelValue)?[...t.modelValue]:[],Z=M[u];M.splice(u,1),l("update:modelValue",M),l("change",M),l("remove-tag",Z),t.validateEvent&&((R=s==null?void 0:s.validate)==null||R.call(s,"change"))},G=()=>{t.filterable&&S()},q=u=>{l("focus",u)},y=u=>{var M;l("blur",u),t.validateEvent&&((M=s==null?void 0:s.validate)==null||M.call(s,"blur"))},B=u=>{if(!w.value){(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),S());return}switch(u.key){case"Escape":u.preventDefault(),d();break;case"ArrowDown":u.preventDefault(),h.value=Math.min(h.value+1,N.value.length-1);break;case"ArrowUp":u.preventDefault(),h.value=Math.max(h.value-1,0);break;case"Enter":u.preventDefault(),h.value>=0&&h.value<N.value.length&&g(N.value[h.value]);break}},x=()=>{d()};return e.watch(()=>t.modelValue,()=>{if(!t.multiple&&t.modelValue){const u=t.options.find(M=>f(M)===t.modelValue);u&&(m.value=k(u))}},{immediate:!0}),e.watch(w,u=>{l("visible-change",u),u&&(h.value=-1)}),o({focus:b,blur:_,toggleDropdown:v,showDropdown:S,hideDropdown:d}),(u,M)=>{const Z=e.resolveDirective("click-outside");return e.withDirectives((e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-select",{"lp-select--disabled":u.disabled,"lp-select--multiple":u.multiple,"lp-select--clearable":u.clearable,"lp-select--filterable":u.filterable,[`lp-select--${I.value}`]:I.value}])},[e.createElementVNode("div",{class:e.normalizeClass(["lp-select__wrapper",{"lp-select__wrapper--focus":w.value,"lp-select__wrapper--disabled":u.disabled}]),onClick:r},[e.createElementVNode("div",Ut,[u.multiple?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(T.value,(R,F)=>(e.openBlock(),e.createElementBlock("div",{key:H(R),class:"lp-select__tag"},[e.createElementVNode("span",qt,e.toDisplayString(k(R)),1),u.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("i",{key:0,class:"lp-select__tag-close lp-icon-close",onClick:e.withModifiers($=>j(F),["stop"])},null,8,Kt))]))),128)),u.filterable?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,ref_key:"inputRef",ref:c,class:"lp-select__input","onUpdate:modelValue":M[0]||(M[0]=R=>p.value=R),placeholder:T.value.length?"":u.placeholder,disabled:u.disabled,onInput:G,onFocus:q,onBlur:y,onKeydown:B},null,40,Gt)),[[e.vModelText,p.value]]):e.createCommentVNode("",!0)],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[u.filterable?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,ref_key:"inputRef",ref:c,class:"lp-select__input","onUpdate:modelValue":M[1]||(M[1]=R=>m.value=R),placeholder:u.placeholder,disabled:u.disabled,readonly:!u.filterable,onInput:G,onFocus:q,onBlur:y,onKeydown:B},null,40,Xt)),[[e.vModelText,m.value]]):(e.openBlock(),e.createElementBlock("span",{key:1,class:e.normalizeClass(["lp-select__selected-text",{"lp-select__placeholder":!V.value}])},e.toDisplayString(V.value?m.value:u.placeholder),3))],64))]),e.createElementVNode("div",Yt,[u.clearable&&V.value&&!u.disabled?(e.openBlock(),e.createElementBlock("i",{key:0,class:"lp-select__clear lp-icon-circle-close",onClick:e.withModifiers(C,["stop"])})):e.createCommentVNode("",!0),e.createElementVNode("i",{class:e.normalizeClass(["lp-select__arrow lp-icon-arrow-down",{"lp-select__arrow--reverse":w.value}])},null,2)])],2),e.createVNode(e.Transition,{name:"lp-zoom-in-top"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:"lp-select__dropdown",style:e.normalizeStyle(P.value)},[e.createElementVNode("div",Zt,[N.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ft,e.toDisplayString(O.value),1)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.value,R=>(e.openBlock(),e.createElementBlock("div",{key:H(R),class:e.normalizeClass(["lp-select__option",{"lp-select__option--selected":E(R),"lp-select__option--disabled":i(R),"lp-select__option--hover":h.value===N.value.indexOf(R)}]),onClick:F=>g(R),onMouseenter:F=>h.value=N.value.indexOf(R)},[e.createElementVNode("span",null,e.toDisplayString(k(R)),1),E(R)?(e.openBlock(),e.createElementBlock("i",Qt)):e.createCommentVNode("",!0)],42,Jt))),128))])],4),[[e.vShow,w.value]])]),_:1})],2)),[[Z,x]])}}}),to={class:"lp-radio__input"},oo=["value","name","disabled","checked"],no={name:"LpRadio"},$e=e.defineComponent({...no,props:{modelValue:{type:[String,Number,Boolean]},label:{type:[String,Number,Boolean]},disabled:{type:Boolean},name:{},size:{default:"default"},validateEvent:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(n,{expose:o,emit:a}){const t=n,l=a,s=e.inject("lpRadioGroup",null),c=e.inject("lpFormItem",null),w=e.ref(),p=e.ref(!1),m=e.computed(()=>t.size||(s==null?void 0:s.size)||(c==null?void 0:c.size)||"default"),h=e.computed(()=>t.disabled||(s==null?void 0:s.disabled)||!1),P=e.computed(()=>t.name||(s==null?void 0:s.name)),I=e.computed(()=>(s?s.modelValue:t.modelValue)===t.label),T=()=>{h.value||e.nextTick(()=>{var f;(f=w.value)==null||f.click()})},V=()=>{var k;if(h.value)return;const f=t.label;s?s.changeEvent(f):(l("update:modelValue",f),l("change",f)),t.validateEvent&&((k=c==null?void 0:c.validate)==null||k.call(c,"change"))},N=()=>{p.value=!0},O=()=>{var f;p.value=!1,t.validateEvent&&((f=c==null?void 0:c.validate)==null||f.call(c,"blur"))};return o({focus:()=>{var f;return(f=w.value)==null?void 0:f.focus()},blur:()=>{var f;return(f=w.value)==null?void 0:f.blur()}}),(f,k)=>{var H;return e.openBlock(),e.createElementBlock("label",{class:e.normalizeClass(["lp-radio",{"lp-radio--disabled":h.value,"lp-radio--checked":I.value,"lp-radio--focus":p.value,[`lp-radio--${m.value}`]:m.value}]),onClick:T},[e.createElementVNode("span",to,[e.createElementVNode("span",{class:e.normalizeClass(["lp-radio__inner",{"lp-radio__inner--checked":I.value,"lp-radio__inner--disabled":h.value}])},null,2),e.createElementVNode("input",{ref_key:"radioRef",ref:w,class:"lp-radio__original",type:"radio",value:f.label,name:P.value||((H=e.unref(s))==null?void 0:H.name),disabled:h.value,checked:I.value,onFocus:N,onBlur:O,onChange:V},null,40,oo)]),f.$slots.default||f.label?(e.openBlock(),e.createElementBlock("span",{key:0,class:e.normalizeClass(["lp-radio__label",{"lp-radio__label--disabled":h.value}])},[e.renderSlot(f.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(f.label),1)])],2)):e.createCommentVNode("",!0)],2)}}}),lo={name:"LpRadioGroup"},Ce=e.defineComponent({...lo,props:{modelValue:{type:[String,Number,Boolean]},disabled:{type:Boolean},size:{default:"default"},name:{},validateEvent:{type:Boolean,default:!0}},emits:["update:modelValue","change"],setup(n,{expose:o,emit:a}){const t=n,l=a,s=e.inject("lpFormItem",null),c=e.computed(()=>t.size||(s==null?void 0:s.size)||"default"),w=m=>{var h;l("update:modelValue",m),l("change",m),t.validateEvent&&((h=s==null?void 0:s.validate)==null||h.call(s,"change"))},p=m=>{var O,f,k,H,E;const h=m.target,P=h.nodeName==="INPUT"?"[type=radio]":"[role=radio]",I=Array.from(((O=h.closest(".lp-radio-group"))==null?void 0:O.querySelectorAll(P))||[]),T=I.length,V=I.indexOf(h),N=I.filter(i=>!i.disabled);switch(m.key){case"ArrowLeft":case"ArrowUp":m.stopPropagation(),m.preventDefault(),V===0?(f=N[N.length-1])==null||f.focus():(k=N[V-1])==null||k.focus();break;case"ArrowRight":case"ArrowDown":m.stopPropagation(),m.preventDefault(),V===T-1?(H=N[0])==null||H.focus():(E=N[V+1])==null||E.focus();break}};return e.provide("lpRadioGroup",{modelValue:e.computed(()=>t.modelValue),disabled:e.computed(()=>t.disabled),size:c,name:e.computed(()=>t.name),changeEvent:w}),o({name:t.name}),(m,h)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-radio-group",{"lp-radio-group--disabled":m.disabled,[`lp-radio-group--${c.value}`]:c.value}]),role:"radiogroup",onKeydown:p},[e.renderSlot(m.$slots,"default")],34))}}),so=["checked","disabled"],ao={class:"lp-switch__core"},io={key:0,class:"lp-switch__loading"},ro={key:1,class:"lp-switch__inner"},co={key:0},po={key:1},uo={class:"lp-switch__action"},fo={key:0,class:"lp-switch__label lp-switch__label--left"},mo={key:1,class:"lp-switch__label lp-switch__label--right"},ho={name:"LpSwitch"},Be=e.defineComponent({...ho,props:{modelValue:{type:[Boolean,String,Number]},disabled:{type:Boolean},loading:{type:Boolean},size:{default:"default"},width:{},inlinePrompt:{type:Boolean},activeIcon:{},inactiveIcon:{},activeText:{},inactiveText:{},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},activeColor:{},inactiveColor:{},borderColor:{},name:{},validateEvent:{type:Boolean,default:!0},beforeChange:{}},emits:["update:modelValue","change","focus","blur"],setup(n,{expose:o,emit:a}){const t=n,l=a,s=e.inject("lpFormItem",null),c=e.ref(),w=e.ref(!1),p=e.computed(()=>t.size||(s==null?void 0:s.size)||"default"),m=e.computed(()=>t.disabled||w.value),h=e.computed(()=>t.modelValue===t.activeValue);e.computed(()=>{const f={};return t.width&&(f.width=typeof t.width=="number"?`${t.width}px`:t.width),t.activeColor&&h.value?(f.backgroundColor=t.activeColor,f.borderColor=t.activeColor):t.inactiveColor&&!h.value&&(f.backgroundColor=t.inactiveColor,f.borderColor=t.inactiveColor),f});const P=()=>{var f;(f=c.value)==null||f.focus()},I=()=>{var f;(f=c.value)==null||f.blur()},T=async()=>{var k;if(m.value)return;if(t.beforeChange){w.value=!0;try{if(!await t.beforeChange()){w.value=!1;return}}catch{w.value=!1;return}w.value=!1}const f=h.value?t.inactiveValue:t.activeValue;l("update:modelValue",f),l("change",f),t.validateEvent&&((k=s==null?void 0:s.validate)==null||k.call(s,"change")),e.nextTick(()=>{c.value.checked=h.value})},V=()=>{},N=f=>{l("focus",f)},O=f=>{var k;l("blur",f),t.validateEvent&&((k=s==null?void 0:s.validate)==null||k.call(s,"blur"))};return o({focus:P,blur:I,checked:h}),(f,k)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-switch",{"lp-switch--checked":h.value,"lp-switch--disabled":m.value,"lp-switch--loading":f.loading,[`lp-switch--${p.value}`]:p.value}]),onClick:T},[e.createElementVNode("input",{ref_key:"inputRef",ref:c,class:"lp-switch__input",type:"checkbox",checked:h.value,disabled:m.value,onChange:V,onFocus:N,onBlur:O},null,40,so),e.createElementVNode("span",ao,[f.loading?(e.openBlock(),e.createElementBlock("div",io,k[0]||(k[0]=[e.createElementVNode("i",{class:"lp-switch__loading-icon"},null,-1)]))):e.createCommentVNode("",!0),f.inlinePrompt&&(f.activeText||f.inactiveText)?(e.openBlock(),e.createElementBlock("span",ro,[h.value?(e.openBlock(),e.createElementBlock("span",co,e.toDisplayString(f.activeText),1)):(e.openBlock(),e.createElementBlock("span",po,e.toDisplayString(f.inactiveText),1))])):e.createCommentVNode("",!0),e.createElementVNode("div",uo,[f.activeIcon&&h.value?(e.openBlock(),e.createElementBlock("i",{key:0,class:e.normalizeClass([f.activeIcon,"lp-switch__action-icon"])},null,2)):f.inactiveIcon&&!h.value?(e.openBlock(),e.createElementBlock("i",{key:1,class:e.normalizeClass([f.inactiveIcon,"lp-switch__action-icon"])},null,2)):e.createCommentVNode("",!0)])]),!f.inlinePrompt&&f.activeText&&h.value?(e.openBlock(),e.createElementBlock("span",fo,e.toDisplayString(f.activeText),1)):e.createCommentVNode("",!0),!f.inlinePrompt&&f.inactiveText&&!h.value?(e.openBlock(),e.createElementBlock("span",mo,e.toDisplayString(f.inactiveText),1)):e.createCommentVNode("",!0)],2))}}),go={class:"lp-upload"},yo=["name","multiple","accept","disabled"],_o={key:0,class:"lp-upload__default"},bo={class:"lp-upload__text"},wo={key:0,class:"lp-upload__tip"},ko={class:"lp-upload__file-info"},Eo={class:"lp-upload__file-name"},$o={class:"lp-upload__file-status"},Co={key:0,class:"lp-upload__loading"},Bo={key:1,class:"lp-upload__success"},Vo={key:2,class:"lp-upload__error"},So={key:0,class:"lp-upload__progress"},xo={class:"lp-upload__file-actions"},To=["onClick"],vo=["onClick"],jo={class:"lp-upload__file-thumbnail"},zo=["src","alt"],No={key:1,class:"lp-upload__file-placeholder"},Oo={class:"lp-upload__file-info"},Lo={class:"lp-upload__file-name"},Po={class:"lp-upload__file-actions"},Mo=["onClick"],Ao=["onClick"],Ro={key:0,class:"lp-upload__file-progress"},Do={key:1,class:"lp-upload__file-error"},Io={name:"LpUpload"},Ve=e.defineComponent({...Io,props:{modelValue:{},action:{},headers:{},method:{default:"POST"},data:{},name:{default:"file"},withCredentials:{type:Boolean},multiple:{type:Boolean},accept:{},autoUpload:{type:Boolean,default:!0},listType:{default:"text"},disabled:{type:Boolean},limit:{},drag:{type:Boolean},showFileList:{type:Boolean,default:!0},fileList:{default:()=>[]},beforeUpload:{},beforeRemove:{},onPreview:{},onRemove:{},onSuccess:{},onError:{},onProgress:{},onExceed:{},httpRequest:{}},emits:["update:modelValue","change"],setup(n,{expose:o,emit:a}){const t=n,l=a;e.inject("lpFormItem",null);const s=e.ref(),c=e.ref(!1),w=e.ref(1),p=e.computed({get:()=>t.modelValue||t.fileList,set:d=>{l("update:modelValue",d)}}),m=()=>Date.now()+"_"+w.value++,h=d=>/^image\//.test(d.type),P=d=>new Promise(r=>{if(!h(d)){r("");return}const g=new FileReader;g.onload=C=>{var j;r(((j=C.target)==null?void 0:j.result)||"")},g.readAsDataURL(d)}),I=d=>{const r=new XMLHttpRequest,g=new FormData;return g.append(d.filename,d.file),d.data&&Object.keys(d.data).forEach(C=>{g.append(C,d.data[C])}),d.headers&&Object.keys(d.headers).forEach(C=>{r.setRequestHeader(C,d.headers[C])}),d.withCredentials&&(r.withCredentials=!0),r.upload.addEventListener("progress",C=>{C.lengthComputable&&d.onProgress(C)}),r.addEventListener("load",()=>{r.status>=200&&r.status<300?d.onSuccess(r.response):d.onError(new Error(`HTTP ${r.status}: ${r.statusText}`))}),r.addEventListener("error",()=>{d.onError(new Error("Network Error"))}),r.open(d.method,d.action),r.send(g),r},T=()=>{p.value=[]},V=d=>{console.log("Abort upload:",d)},N=()=>{p.value.filter(d=>d.status==="ready").forEach(d=>O(d))},O=async d=>{if(!d.raw)return;d.status="uploading",d.percentage=0;const r={action:t.action,method:t.method,filename:t.name,file:d.raw,data:t.data,headers:t.headers,withCredentials:t.withCredentials,onProgress:C=>{var j;d.percentage=Math.round(C.loaded/C.total*100),(j=t.onProgress)==null||j.call(t,C,d,p.value)},onSuccess:C=>{var j;d.status="success",d.response=C,d.percentage=100,(j=t.onSuccess)==null||j.call(t,C,d,p.value),l("change",d,p.value)},onError:C=>{var j;d.status="error",d.error=C,(j=t.onError)==null||j.call(t,C,d,p.value),l("change",d,p.value)}};(t.httpRequest||I)(r)},f=async d=>{var g;if(t.disabled)return;const r=Array.from(d);if(t.limit&&p.value.length+r.length>t.limit){(g=t.onExceed)==null||g.call(t,d,p.value);return}for(const C of r){if(t.beforeUpload)try{if(!await t.beforeUpload(C))continue}catch{continue}const j={uid:m(),name:C.name,size:C.size,type:C.type,status:"ready",percentage:0,raw:C};h(C)&&(j.preview=await P(C)),p.value=[...p.value,j],l("change",j,p.value),t.autoUpload&&t.action&&await O(j)}},k=()=>{var d;t.disabled||(d=s.value)==null||d.click()},H=d=>{const r=d.target,g=r.files;g&&f(g),r.value=""},E=d=>{var g;if(t.disabled||!t.drag)return;d.preventDefault(),c.value=!1;const r=(g=d.dataTransfer)==null?void 0:g.files;r&&f(r)},i=d=>{t.disabled||!t.drag||(d.preventDefault(),c.value=!0)},b=d=>{t.disabled||!t.drag||(d.preventDefault(),c.value=!1)},_=async(d,r)=>{var C;if(t.beforeRemove)try{if(!await t.beforeRemove(d,p.value))return}catch{return}const g=[...p.value];g.splice(r,1),p.value=g,(C=t.onRemove)==null||C.call(t,d,p.value),l("change",d,p.value)},v=(d,r)=>{t.action&&O(d)},S=d=>{var r;(r=t.onPreview)==null||r.call(t,d)};return o({clearFiles:T,abort:V,submit:N,uploadFile:O}),(d,r)=>(e.openBlock(),e.createElementBlock("div",go,[e.createElementVNode("div",{class:e.normalizeClass(["lp-upload__trigger",{"lp-upload__trigger--drag":d.drag,"lp-upload__trigger--dragover":c.value,"lp-upload__trigger--disabled":d.disabled}]),onClick:k,onDrop:E,onDragover:i,onDragleave:b},[e.createElementVNode("input",{ref_key:"inputRef",ref:s,class:"lp-upload__input",type:"file",name:d.name,multiple:d.multiple,accept:d.accept,disabled:d.disabled,onChange:H},null,40,yo),!d.$slots.trigger&&!d.$slots.default?(e.openBlock(),e.createElementBlock("div",_o,[r[1]||(r[1]=e.createElementVNode("i",{class:"lp-upload__icon"},"📁",-1)),e.createElementVNode("div",bo,[e.createElementVNode("span",null,e.toDisplayString(d.drag?"将文件拖到此处，或":""),1),r[0]||(r[0]=e.createElementVNode("em",null,"点击上传",-1))])])):e.createCommentVNode("",!0),e.renderSlot(d.$slots,"trigger",{},()=>[e.renderSlot(d.$slots,"default")])],34),d.$slots.tip?(e.openBlock(),e.createElementBlock("div",wo,[e.renderSlot(d.$slots,"tip")])):e.createCommentVNode("",!0),d.showFileList&&p.value.length>0?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["lp-upload__file-list",`lp-upload__file-list--${d.listType}`])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(g,C)=>(e.openBlock(),e.createElementBlock("div",{key:g.uid,class:e.normalizeClass(["lp-upload__file",{"lp-upload__file--success":g.status==="success","lp-upload__file--uploading":g.status==="uploading","lp-upload__file--error":g.status==="error"}])},[d.listType==="text"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",ko,[r[2]||(r[2]=e.createElementVNode("i",{class:"lp-upload__file-icon"},"📄",-1)),e.createElementVNode("span",Eo,e.toDisplayString(g.name),1),e.createElementVNode("span",$o,[g.status==="uploading"?(e.openBlock(),e.createElementBlock("i",Co,"⏳")):g.status==="success"?(e.openBlock(),e.createElementBlock("i",Bo,"✅")):g.status==="error"?(e.openBlock(),e.createElementBlock("i",Vo,"❌")):e.createCommentVNode("",!0)])]),g.status==="uploading"?(e.openBlock(),e.createElementBlock("div",So,[e.createElementVNode("div",{class:"lp-upload__progress-bar",style:e.normalizeStyle({width:g.percentage+"%"})},null,4)])):e.createCommentVNode("",!0),e.createElementVNode("div",xo,[g.status!=="uploading"?(e.openBlock(),e.createElementBlock("button",{key:0,class:"lp-upload__action",onClick:j=>_(g,C)}," 删除 ",8,To)):e.createCommentVNode("",!0),g.status==="error"?(e.openBlock(),e.createElementBlock("button",{key:1,class:"lp-upload__action",onClick:j=>v(g)}," 重试 ",8,vo)):e.createCommentVNode("",!0)])],64)):d.listType==="picture"||d.listType==="picture-card"?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",jo,[g.url||g.preview?(e.openBlock(),e.createElementBlock("img",{key:0,src:g.url||g.preview,alt:g.name,class:"lp-upload__file-image"},null,8,zo)):(e.openBlock(),e.createElementBlock("i",No,"🖼️"))]),e.createElementVNode("div",Oo,[e.createElementVNode("span",Lo,e.toDisplayString(g.name),1),e.createElementVNode("div",Po,[g.url||g.preview?(e.openBlock(),e.createElementBlock("button",{key:0,class:"lp-upload__action",onClick:j=>S(g)}," 预览 ",8,Mo)):e.createCommentVNode("",!0),g.status!=="uploading"?(e.openBlock(),e.createElementBlock("button",{key:1,class:"lp-upload__action",onClick:j=>_(g,C)}," 删除 ",8,Ao)):e.createCommentVNode("",!0)])]),g.status==="uploading"?(e.openBlock(),e.createElementBlock("div",Ro,[e.createElementVNode("div",{class:"lp-upload__progress-circle",style:e.normalizeStyle({"--progress":g.percentage+"%"})},[e.createElementVNode("span",null,e.toDisplayString(g.percentage)+"%",1)],4)])):e.createCommentVNode("",!0),g.status==="error"?(e.openBlock(),e.createElementBlock("div",Do,r[3]||(r[3]=[e.createElementVNode("i",{class:"lp-upload__error-icon"},"❌",-1)]))):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)],2))),128))],2)):e.createCommentVNode("",!0)]))}}),Wo=Object.freeze(Object.defineProperty({__proto__:null,LpForm:_e,LpFormItem:be,LpInput:we,LpInputNumber:ke,LpRadio:$e,LpRadioGroup:Ce,LpSelect:Ee,LpSwitch:Be,LpUpload:Ve,default:{install:n=>{n.component(_e.name,_e),n.component(be.name,be),n.component(we.name,we),n.component(ke.name,ke),n.component(Ee.name,Ee),n.component($e.name,$e),n.component(Ce.name,Ce),n.component(Be.name,Be),n.component(Ve.name,Ve)}}},Symbol.toStringTag,{value:"Module"}));var Ae=typeof global=="object"&&global&&global.Object===Object&&global,Ho=typeof self=="object"&&self&&self.Object===Object&&self,ee=Ae||Ho||Function("return this")(),fe=ee.Symbol,Re=Object.prototype,Uo=Re.hasOwnProperty,qo=Re.toString,ce=fe?fe.toStringTag:void 0;function Ko(n){var o=Uo.call(n,ce),a=n[ce];try{n[ce]=void 0;var t=!0}catch{}var l=qo.call(n);return t&&(o?n[ce]=a:delete n[ce]),l}var Go=Object.prototype,Xo=Go.toString;function Yo(n){return Xo.call(n)}var Zo="[object Null]",Fo="[object Undefined]",De=fe?fe.toStringTag:void 0;function ie(n){return n==null?n===void 0?Fo:Zo:De&&De in Object(n)?Ko(n):Yo(n)}function me(n){return n!=null&&typeof n=="object"}var Ie=Array.isArray;function We(n){var o=typeof n;return n!=null&&(o=="object"||o=="function")}var Jo="[object AsyncFunction]",Qo="[object Function]",en="[object GeneratorFunction]",tn="[object Proxy]";function He(n){if(!We(n))return!1;var o=ie(n);return o==Qo||o==en||o==Jo||o==tn}var Se=ee["__core-js_shared__"],Ue=function(){var n=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function on(n){return!!Ue&&Ue in n}var nn=Function.prototype,ln=nn.toString;function le(n){if(n!=null){try{return ln.call(n)}catch{}try{return n+""}catch{}}return""}var sn=/[\\^$.*+?()[\]{}|]/g,an=/^\[object .+?Constructor\]$/,rn=Function.prototype,cn=Object.prototype,dn=rn.toString,pn=cn.hasOwnProperty,un=RegExp("^"+dn.call(pn).replace(sn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fn(n){if(!We(n)||on(n))return!1;var o=He(n)?un:an;return o.test(le(n))}function mn(n,o){return n==null?void 0:n[o]}function de(n,o){var a=mn(n,o);return fn(a)?a:void 0}var xe=de(ee,"WeakMap"),hn=9007199254740991;function qe(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=hn}function gn(n){return n!=null&&qe(n.length)&&!He(n)}var yn=Object.prototype;function Ke(n){var o=n&&n.constructor,a=typeof o=="function"&&o.prototype||yn;return n===a}var _n="[object Arguments]";function Ge(n){return me(n)&&ie(n)==_n}var Xe=Object.prototype,bn=Xe.hasOwnProperty,wn=Xe.propertyIsEnumerable,kn=Ge(function(){return arguments}())?Ge:function(n){return me(n)&&bn.call(n,"callee")&&!wn.call(n,"callee")};function En(){return!1}var Ye=typeof K=="object"&&K&&!K.nodeType&&K,Ze=Ye&&typeof module=="object"&&module&&!module.nodeType&&module,$n=Ze&&Ze.exports===Ye,Fe=$n?ee.Buffer:void 0,Cn=Fe?Fe.isBuffer:void 0,Bn=Cn||En,Vn="[object Arguments]",Sn="[object Array]",xn="[object Boolean]",Tn="[object Date]",vn="[object Error]",jn="[object Function]",zn="[object Map]",Nn="[object Number]",On="[object Object]",Ln="[object RegExp]",Pn="[object Set]",Mn="[object String]",An="[object WeakMap]",Rn="[object ArrayBuffer]",Dn="[object DataView]",In="[object Float32Array]",Wn="[object Float64Array]",Hn="[object Int8Array]",Un="[object Int16Array]",qn="[object Int32Array]",Kn="[object Uint8Array]",Gn="[object Uint8ClampedArray]",Xn="[object Uint16Array]",Yn="[object Uint32Array]",W={};W[In]=W[Wn]=W[Hn]=W[Un]=W[qn]=W[Kn]=W[Gn]=W[Xn]=W[Yn]=!0,W[Vn]=W[Sn]=W[Rn]=W[xn]=W[Dn]=W[Tn]=W[vn]=W[jn]=W[zn]=W[Nn]=W[On]=W[Ln]=W[Pn]=W[Mn]=W[An]=!1;function Zn(n){return me(n)&&qe(n.length)&&!!W[ie(n)]}function Fn(n){return function(o){return n(o)}}var Je=typeof K=="object"&&K&&!K.nodeType&&K,pe=Je&&typeof module=="object"&&module&&!module.nodeType&&module,Jn=pe&&pe.exports===Je,Te=Jn&&Ae.process,Qe=function(){try{var n=pe&&pe.require&&pe.require("util").types;return n||Te&&Te.binding&&Te.binding("util")}catch{}}(),et=Qe&&Qe.isTypedArray,Qn=et?Fn(et):Zn;function el(n,o){return function(a){return n(o(a))}}var tl=el(Object.keys,Object),ol=Object.prototype,nl=ol.hasOwnProperty;function ll(n){if(!Ke(n))return tl(n);var o=[];for(var a in Object(n))nl.call(n,a)&&a!="constructor"&&o.push(a);return o}var ve=de(ee,"Map"),je=de(ee,"DataView"),ze=de(ee,"Promise"),Ne=de(ee,"Set"),tt="[object Map]",sl="[object Object]",ot="[object Promise]",nt="[object Set]",lt="[object WeakMap]",st="[object DataView]",al=le(je),il=le(ve),rl=le(ze),cl=le(Ne),dl=le(xe),se=ie;(je&&se(new je(new ArrayBuffer(1)))!=st||ve&&se(new ve)!=tt||ze&&se(ze.resolve())!=ot||Ne&&se(new Ne)!=nt||xe&&se(new xe)!=lt)&&(se=function(n){var o=ie(n),a=o==sl?n.constructor:void 0,t=a?le(a):"";if(t)switch(t){case al:return st;case il:return tt;case rl:return ot;case cl:return nt;case dl:return lt}return o});var pl="[object String]";function ul(n){return typeof n=="string"||!Ie(n)&&me(n)&&ie(n)==pl}var fl="[object Map]",ml="[object Set]",hl=Object.prototype,gl=hl.hasOwnProperty;function yl(n){if(n==null)return!0;if(gn(n)&&(Ie(n)||typeof n=="string"||typeof n.splice=="function"||Bn(n)||Qn(n)||kn(n)))return!n.length;var o=se(n);if(o==fl||o==ml)return!n.size;if(Ke(n))return!ll(n).length;for(var a in n)if(gl.call(n,a))return!1;return!0}const _l=["innerHTML"],bl=Object.assign({name:"lp-icon"},{props:{icon:{type:String},color:{type:String},size:{type:[String,Number],default:12},prefix:{type:String}},emits:["click"],setup(n,{emit:o}){const a=o,t=e.useAttrs(),l={success:"&#xe72e;",success_fill:"&#xe72d;",zoomin:"&#xe603;",zoomout:"&#xe602;",coin:"&#xe66d;",unmicrophone:"&#xe607;",microphone:"&#xe866;",star:"&#xe659;",loading:"&#xe891;",qrcode:"&#xe7dd;",printer:"&#xe7d8;",setting2:"&#xe78e;",copy:"&#xe744;",loading:"&#xe644;",loading2:"&#xe891;",hide:"&#xe83d;",view:"&#xe847;",stamping:"&#xe86a;",copy:"&#xe744;",share:"&#xe6f3;",search:"&#xe60e;",refresh:"&#xe650;",plan:"&#xe62c;",attrs:"&#xe643;",model:"&#xe6aa;",sort:"&#xe600;",remove:"&#xe66c;",add:"&#xe601;",edit:"&#xe61f;",setting:"&#xe66f;",file:"&#xe63e;",yiwancheng:"&#xe612;",folder:"&#xe60f;",category:"&#xe62f;",data:"&#xe61b;",address:"&#xe618;",radio:"&#xe71e;",tasksuccess:"&#xe612;",wuliuche:"&#xe635;"},s=n,c=e.computed(()=>l[s.icon]),w=e.computed(()=>{const{size:m,color:h}=s;let P=m;return ul(m)&&(P=parseInt(m,10)),{fontSize:`${P}px`,color:h,display:"inline-flex"}}),p=m=>{a("click",m)};return(m,h)=>(e.openBlock(),e.createElementBlock("i",{class:e.normalizeClass(["lp-icon",[e.unref(t).class]]),style:e.normalizeStyle(w.value),innerHTML:c.value,onClick:p},null,14,_l))}}),wl=["fill"],kl=["xlink:href"],Oe=ne(Object.assign({name:"LpSvg"},{props:{icon:{type:String,required:!0},size:{type:[Number,String],default:12},color:{type:String,default:"#000000"}},setup(n){const o=n,a=e.computed(()=>`#${o.icon}`),t=e.computed(()=>{const{size:l,color:s}=o;let c=`${l}`;return c=`${c.replace("px","")}px`,{width:c,fill:s,height:c}});return(l,s)=>(e.openBlock(),e.createElementBlock("svg",{class:e.normalizeClass([l.$attrs.class]),style:e.normalizeStyle(t.value),fill:n.color,"aria-hidden":"true"},[e.createElementVNode("use",{"xlink:href":a.value},null,8,kl)],14,wl))}}),[["__scopeId","data-v-4508aad0"]]),at=Object.assign({name:"lp-icon"},{props:{type:{type:String,default:"lp"},icon:{type:String},color:{type:String},size:{type:[String,Number],default:12},prefix:{type:String}},emits:["click"],setup(n,{emit:o}){const a=o,t=e.useAttrs();function l(s){a("click",s)}return(s,c)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[n.type=="lp"?(e.openBlock(),e.createBlock(bl,{key:0,icon:n.icon,color:n.color,size:n.size,onClick:l,class:e.normalizeClass([e.unref(t).class])},null,8,["icon","color","size","class"])):e.createCommentVNode("",!0),n.type=="svg"?(e.openBlock(),e.createBlock(Oe,{key:1,icon:n.icon,color:n.color,size:n.size,onClick:l,class:e.normalizeClass([e.unref(t).class])},null,8,["icon","color","size","class"])):e.createCommentVNode("",!0)],64))}}),El=Object.freeze(Object.defineProperty({__proto__:null,default:{install:n=>{n.component(at.name,at),n.component(Oe.name,Oe)}}},Symbol.toStringTag,{value:"Module"})),$l=e.defineComponent({__name:"base",props:{name:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["enter","leave","afterEnter"],setup(n,{emit:o}){const a=o,t=p=>{p instanceof HTMLElement&&(p.getBoundingClientRect(),e.nextTick(()=>{const m=p.offsetHeight,h=p.offsetWidth;a("enter",p,{height:m,width:h})}))},l=p=>{p instanceof HTMLElement&&(p.style.overflowY="",p.style.overflowX=""),a("afterEnter",p)},s=p=>{},c=p=>{a("leave",p)},w=p=>{a("leave",p)};return e.onMounted(()=>{}),(p,m)=>(e.openBlock(),e.createBlock(e.Transition,{name:n.name,onBeforeEnter:t,onAfterEnter:l,onBeforeLeave:s,onAfterLeave:c,onLeaveCancelled:w},{default:e.withCtx(()=>[e.renderSlot(p.$slots,"default")]),_:3},8,["name"]))}});function Cl(){const n=e.ref(null),o=e.ref(null),a=e.ref(null),t=e.ref(null),l=e.ref(8),s=e.reactive({x:0,y:0,width:0,height:0}),c=e.reactive({position:"absolute",width:"14px",height:"14px",backgroundColor:"#fff",transform:"rotate(45deg)"}),w=e.ref(!1);function p(){var b;if(!((b=o.value)!=null&&b.arrow)||!t.value)return;const E=o.value.arrowSize||l.value,[,i="center"]=(o.value.position||"bottom-center").split("-");switch(Object.assign(c,{position:"absolute",width:`${E}px`,height:`${E}px`,transform:"rotate(45deg)",top:"",left:"",right:"",bottom:"",marginTop:"",marginLeft:"",marginRight:"",marginBottom:""}),t.value){case"top":if(c.bottom=`-${E/2}px`,i==="start"){const _=s.width/2;c.left=`${_}px`,c.marginLeft=`-${E/2}px`}else if(i==="end"){const _=s.width/2;c.right=`${_}px`,c.marginRight=`-${E/2}px`}else c.left="50%",c.marginLeft=`-${E/2}px`;break;case"right":if(c.left=`-${E/2}px`,i==="start"){const _=s.height/2;c.top=`${_}px`,c.marginTop=`-${E/2}px`}else if(i==="end"){const _=s.height/2;c.bottom=`${_}px`,c.marginBottom=`-${E/2}px`}else c.top="50%",c.marginTop=`-${E/2}px`;break;case"bottom":if(c.top=`-${E/2}px`,i==="start"){const _=s.width/2;c.left=`${_}px`,c.marginLeft=`-${E/2}px`}else if(i==="end"){const _=s.width/2;c.right=`${_}px`,c.marginRight=`-${E/2}px`}else c.left="50%",c.marginLeft=`-${E/2}px`;break;case"left":if(c.right=`-${E/2}px`,i==="start"){const _=s.height/2;c.top=`${_}px`,c.marginTop=`-${E/2}px`}else if(i==="end"){const _=s.height/2;c.bottom=`${_}px`,c.marginBottom=`-${E/2}px`}else c.top="50%",c.marginTop=`-${E/2}px`;break}}function m(E){return E.getBoundingClientRect()}function h(E,i,b,_){switch(_){case"start":return E;case"end":return E+i-b;case"center":default:return E+(i-b)/2}}function P(E,i,b,_){switch(_){case"start":return E;case"end":return E+i-b;case"center":default:return E+(i-b)/2}}function I(E,i,b,_,v,S){let d=0;return E<0&&(d+=Math.abs(E)),E+b>v&&(d+=E+b-v),i<0&&(d+=Math.abs(i)),i+_>S&&(d+=i+_-S),d}function T(E,i,b,_,v){const S=E.map(d=>{const r=I(d.x,d.y,i,b,_,v);return{...d,overflow:r}});return S.sort((d,r)=>d.overflow-r.overflow),S[0]}function V(E,i,b,_,v,S,d){if(!v||!o.value){console.error("calculateFollowPosition - missing container or options:",{container:!!v,options:!!o.value});return}s.x=E+b/2,s.y=i+_/2,s.width=b,s.height=_;const r=v.getBoundingClientRect(),g=r.width,C=r.height;if(g===0||C===0){setTimeout(()=>{V(E,i,b,_,v,S,d)},100);return}const j=window.innerWidth,G=window.innerHeight,[q,y="center"]=o.value.position.split("-");let B=[];const x=o.value.arrowSize||l.value,u=o.value.arrow?x:0,M={left:{x:E-g-u,y:P(i,_,C,y)},right:{x:E+b+u,y:P(i,_,C,y)},top:{x:h(E,b,g,y),y:i-C-u},bottom:{x:h(E,b,g,y),y:i+_+u}},Z=M[q];Z&&B.push({direction:q,...Z});const R=["top","right","bottom","left"];let F=R.indexOf(q);if(F!==-1)for(let D=1;D<R.length;D++){const L=R[(F+D)%R.length];B.push({direction:L,...M[L]})}const $=T(B,g,C,j,G);t.value=$.direction,p(),S.left=`${$.x}px`,S.top=`${$.y}px`,S.transform="",S.right="",S.bottom="",d&&d()}function N(E,i,b,_){if(!o.value)return;const{clientX:v,clientY:S}=E;V(v,S,0,0,i,b,_)}function O(E,i,b){if(!n.value){console.error("updateFollowPosition - no follow target set");return}if(typeof n.value!="string"){if(!o.value){console.error("updateFollowPosition - missing follow options");return}try{if(!(n.value instanceof HTMLElement)){console.error("updateFollowPosition - target is not an HTMLElement:",n.value);return}if(!document.body.contains(n.value)){console.error("updateFollowPosition - target not in document");return}const _=m(n.value),{x:v,y:S,width:d,height:r}=_;V(v,S,d,r,E,i,b)}catch(_){console.error("updateFollowPosition - error calculating position:",_)}}}function f(E,i,b){var r;a.value&&cancelAnimationFrame(a.value);const v=1e3/(((r=o.value)==null?void 0:r.fps)||60);let S=0;const d=g=>{a.value=requestAnimationFrame(d),!(g-S<v)&&(S=g,O(E,i,b))};a.value=requestAnimationFrame(d)}function k(E,i,b,_){var v;return E?(n.value=E.target,o.value=E.options,w.value=((v=o.value)==null?void 0:v.arrow)||!1,o.value.arrow&&(l.value=o.value.arrowSize||8,p()),typeof n.value=="string"&&n.value==="mouse"?window.addEventListener("mousemove",S=>N(S,i,b,_)):(O(i,b,_),o.value&&o.value.fps?f(i,b,_):(window.addEventListener("resize",()=>O(i,b,_)),window.addEventListener("scroll",()=>O(i,b,_),!0))),!0):!1}function H(){window.removeEventListener("mousemove",N),window.removeEventListener("resize",O),window.removeEventListener("scroll",O,!0),a.value&&(cancelAnimationFrame(a.value),a.value=null)}return{followTarget:n,followOptions:o,followAnimationFrame:a,arrowDirection:t,arrowSize:l,arrowStyle:c,targetCenter:s,showArrow:w,initFollow:k,updateFollowPosition:O,updateArrowStyle:p,cleanup:H}}function Bl(n){return new Promise((o,a)=>{let t;const l=()=>{const s=n();s!==void 0?(cancelAnimationFrame(t),o(s)):t=requestAnimationFrame(l)};t=requestAnimationFrame(l)})}const Vl={class:"lp-layer-body"},Sl={name:"lp-layer"},xl=e.defineComponent({...Sl,props:{position:{type:Object,default:()=>({})},zIndex:{type:Number,default:1e3},transition:{type:String,default:"fade"},layerObj:{type:Object,default:()=>({getTransitionComponent:()=>null})},follow:{type:[Object,null],default:null},enableResizeTransition:{type:Boolean,default:!0}},emits:["after-leave","close"],setup(n,{expose:o,emit:a}){const t=e.getCurrentInstance(),l=n,s=a,c=e.ref(!1),w=e.ref(null),p=e.ref(null),m=e.ref(!1),h=e.ref(!1),{showArrow:P,arrowStyle:I,initFollow:T,updateFollowPosition:V,cleanup:N}=Cl();l.follow&&l.follow.target&&(m.value=!0);const O=[],f=e.ref(!1),k=e.reactive({zIndex:l.zIndex,position:"fixed"});let H=null;l.layerObj.getTransitionComponent()?H=l.layerObj.getTransitionComponent():H=$l;const E=e.ref("");let i={enter:!1,width:0,height:0};const b=e.ref(!1);function _(){E.value=`lp-${l.transition}`}_();function v($){i.enter=!0,i.width=$.offsetWidth,i.height=$.offsetHeight}function S($){b.value=!0}async function d($){return $.zIndex="-100",$.opacity="0",Object.assign(k,$),await Bl(()=>{if(i.enter)return!0}),i}const r=e.ref(!1),g=1;async function C(){var oe;const{width:$,height:D,x:L,y:A,reverse:Y}=l.position||{},z={zIndex:l.zIndex,position:"fixed",transform:"",top:"",left:"",right:"",bottom:"",width:"",height:""};$&&(z.width=typeof $=="number"?`${$}px`:$),D&&(z.height=typeof D=="number"?`${D}px`:D);let X=[];Y?(L==="center"||L===void 0?(z.left="50%",X.push("translateX(-50%)")):L==="right"?z.right="0":typeof L=="number"?z.right=`${L}px`:L?z.right=L:z.left="0",A==="center"||A===void 0?(z.top="50%",X.push("translateY(-50%)")):A==="top"?z.top="50px":A==="bottom"?z.bottom="0":typeof A=="number"?z.bottom=`${A}px`:A?z.bottom=A:z.top="0"):(L==="center"||L===void 0?(z.left="50%",X.push("translateX(-50%)")):L==="right"?z.right="0":typeof L=="number"?z.left=`${L}px`:L?z.left=L:z.left="0",A==="center"||A===void 0?(z.top="50%",X.push("translateY(-50%)")):A==="top"?z.top="50px":A==="bottom"?z.bottom="50px":typeof A=="number"?z.top=`${A}px`:A?z.top=A:z.top="0"),X.length>0&&(z.transform=X.join(" ")),(oe=l.layerObj.options)!=null&&oe.group?(await d(z),e.nextTick(()=>{var J;(J=l.layerObj.options)!=null&&J.group&&l.layerObj.options.group.computePosition(z,l.layerObj)})):($==="auto"||!$||D=="auto"||!D||L=="center"||!L||A=="center"||!A)&&(await d(z),q(z)),z.opacity="1",z.zIndex=l.zIndex,Object.assign(k,z)}const j=e.ref(null);async function G(){c.value=!0,k.opacity="0",l.follow&&l.follow.target?T(l.follow,p.value,k,()=>{h.value||(h.value=!0,k.opacity="1",setTimeout(()=>{m.value=!1},50))}):(await C(),h.value=!0,k.opacity="1")}function q($,D=!1){var ue,Q;const L=(ue=$.transform)==null?void 0:ue.includes("translateX(-50%)"),A=(Q=$.transform)==null?void 0:Q.includes("translateY(-50%)");if(!D&&!L&&!A||!i.width||!i.height)return;const Y=i.width,z=i.height,X=window.innerWidth,oe=window.innerHeight;let J=[];$.transform&&$.transform.split(" ").forEach(ye=>{ye.includes("translate")||J.push(ye)}),(L||D)&&(Math.abs(Y-X)<=1||Y>=X?$.left="0":$.left=`calc(50% - ${Math.floor(Y/2)}px)`),(A||D)&&(Math.abs(z-oe)<=1||z>=oe?$.top="0":$.top=`calc(50% - ${Math.floor(z/2)}px)`),J.length>0?$.transform=J.join(" "):$.transform="",M()}const y=($="layer")=>{c.value=!1,f.value=!0,l.follow&&l.follow.target&&N(),s("close"),O.forEach(({event:D,callback:L})=>{D==="close"&&L&&L()})};function B(){f.value=!1,s("after-leave")}l.layerObj.setLayerInstance(t),e.onMounted(()=>{k.zIndex=l.zIndex,G()});let x=null,u=null;e.ref(!1);function M(){if(x)return;const{width:$,height:D}=l.position||{};x=new ResizeObserver(async L=>{if(r.value){console.log("正在resize中，忽略ResizeObserver回调");return}console.log("layer-resize",L);for(const A of L){const Y=A.contentRect.width,z=A.contentRect.height,X=i.width,oe=i.height,J=Math.abs(Y-X),ue=Math.abs(z-oe);if(J>g||ue>g){if(console.log("尺寸变化超过容差",{widthDiff:J,heightDiff:ue,resizeTolerance:g}),i.width=Y,i.height=z,l.follow&&l.follow.target)V(p.value,k);else if(h.value){const Q={...k},ye=l.enableResizeTransition&&X>0&&oe>0,{width:Us,height:qs}=l.position||{};ye?(r.value=!0,x&&u&&(console.log("暂停尺寸检测，开始过渡"),x.unobserve(u)),Q.transition="left 0.3s, top 0.3s, width 0.3s, height 0.3s",Object.assign(k,Q),q(Q,!0),requestAnimationFrame(()=>{Object.assign(k,Q)}),setTimeout(()=>{if(k.transition="",x&&u){console.log("过渡结束，恢复尺寸检测"),x.observe(u);const re=u.getBoundingClientRect(),kt=Math.abs(re.width-i.width),Et=Math.abs(re.height-i.height);if(kt>g||Et>g){console.log("过渡后检测尺寸变化",{oldWidth:i.width,oldHeight:i.height,newWidth:re.width,newHeight:re.height,widthDiff:kt,heightDiff:Et}),i.width=re.width,i.height=re.height;const $t={...k};q($t,!0),Object.assign(k,$t)}}setTimeout(()=>{r.value=!1},50)},300)):(q(Q,!0),Object.assign(k,Q))}}}}),e.nextTick(()=>{const L=p.value;x&&L&&(u=L,x.observe(L))})}e.onBeforeUnmount(()=>{l.follow&&l.follow.target&&N(),x&&x.disconnect(),u=null}),e.provide("lp-layer:core",{on:($,D)=>{O.push({event:$,callback:D})},off:($,D)=>{let L=O.findIndex(A=>A.event===$&&A.callback===D);L!==-1&&O.splice(L,1)}}),o({close:y,updatePosition:()=>{l.follow?V(p.value,k):C()},changeContainerStyle:$=>{Object.assign(k,$)},getContainerStyle:()=>k,getInstance:()=>t,toggleFullscreen:()=>{k.width==="100vw"&&k.height==="100vh"?F():R()},useFullscreen:()=>{R()},exitFullscreen:()=>{F()},resizeLayer:$=>{Z($)}});function Z($){if(r.value){console.log("已在进行resize操作，忽略此次调用");return}r.value=!0;const D=parseInt(k.width)||i.width,L=parseInt(k.height)||i.height;x&&u&&(console.log("暂停尺寸检测，开始缩放"),x.unobserve(u));const A={...k};A.transition="width 0.3s ease, height 0.3s ease, left 0.3s ease, top 0.3s ease, right 0.3s ease, bottom 0.3s ease, transform 0.3s ease",console.log("resizeLayer",$);let Y,z;typeof $=="number"?(Y=Math.round(D*$),z=Math.round(L*$),A.width=`${Y}px`,A.height=`${z}px`):(Y=$.width,z=$.height,A.width=`${Y}px`,A.height=`${z}px`),i.width,i.height,i.width=Y,i.height=z,q(A,!0),Object.assign(k,A),setTimeout(()=>{if(k.transition="",x&&u){console.log("缩放结束，恢复尺寸检测"),x.observe(u);const X=u.getBoundingClientRect();i.width=X.width,i.height=X.height}setTimeout(()=>{r.value=!1},50)},300)}function R(){if(r.value){console.log("已在进行resize操作，忽略此次全屏调用");return}r.value=!0,j.value||(j.value={width:k.width,height:k.height,left:k.left,top:k.top,right:k.right,bottom:k.bottom,transform:k.transform}),x&&u&&(console.log("暂停尺寸检测，开始全屏"),x.unobserve(u));const $={...k};$.transition="width 0.3s ease, height 0.3s ease, left 0.3s ease, top 0.3s ease, right 0.3s ease, bottom 0.3s ease, transform 0.3s ease",Object.assign($,{width:"100vw",height:"100vh",left:"0",top:"0",right:"",bottom:"",transform:""}),i.width,i.height,i.width=window.innerWidth,i.height=window.innerHeight,Object.assign(k,$),setTimeout(()=>{if(k.transition="",x&&u){console.log("全屏结束，恢复尺寸检测"),x.observe(u);const D=u.getBoundingClientRect();i.width=D.width,i.height=D.height}setTimeout(()=>{r.value=!1},50)},300)}function F(){if(!j.value)return;if(r.value){console.log("已在进行resize操作，忽略此次退出全屏调用");return}r.value=!0,x&&u&&(console.log("暂停尺寸检测，退出全屏"),x.unobserve(u));const $={...k};$.transition="width 0.3s ease, height 0.3s ease, left 0.3s ease, top 0.3s ease, right 0.3s ease, bottom 0.3s ease, transform 0.3s ease";const D=parseInt(j.value.width)||0,L=parseInt(j.value.height)||0;i.width=D||300,i.height=L||200,Object.assign($,j.value),Object.assign(k,$),j.value=null,setTimeout(()=>{if(k.transition="",x&&u){console.log("退出全屏结束，恢复尺寸检测"),x.observe(u);const A=u.getBoundingClientRect();i.width=A.width,i.height=A.height}setTimeout(()=>{r.value=!1},50)},300)}return($,D)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-layer-container",{closeing:f.value}]),style:e.normalizeStyle(k),ref_key:"containerRef",ref:p},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(H)),{name:E.value,disabled:m.value,onEnter:v,onAfterEnter:S,onLeave:B},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:"lp-layer",ref_key:"layerRef",ref:w},[l.follow&&e.unref(P)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"lp-layer-arrow",style:e.normalizeStyle(e.unref(I))},null,4)):e.createCommentVNode("",!0),e.createElementVNode("div",Vl,[e.renderSlot($.$slots,"default")])],512),[[e.vShow,c.value]])]),_:3},40,["name","disabled"]))],6))}}),Tl={class:"lp-dialog"},vl={class:"lp-dialog-header flex align-center justify-between"},jl={class:"lp-dialog-title"},zl={class:"lp-dialog-body"},Nl={key:0,class:"lp-dialog-footer"},it={__name:"dialog",props:{title:{type:String,default:"title"},showClose:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!1}},emits:["close","confirm","cancel"],setup(n,{emit:o}){const a=o,t=()=>{a("confirm"),l()},l=()=>{a("close")};return(s,c)=>{const w=e.resolveComponent("lp-icon");return e.openBlock(),e.createElementBlock("div",Tl,[e.createElementVNode("div",vl,[e.createElementVNode("div",jl,e.toDisplayString(n.title),1),n.showClose?(e.openBlock(),e.createElementBlock("div",{key:0,class:"lp-dialog-close",onClick:l},[e.createVNode(w,{class:"lp-dialog-close_icon",icon:"remove",size:"18px"})])):e.createCommentVNode("",!0)]),e.createElementVNode("div",zl,[e.renderSlot(s.$slots,"default")]),n.showFooter?(e.openBlock(),e.createElementBlock("div",Nl,[e.renderSlot(s.$slots,"footer",{},()=>[e.createElementVNode("button",{class:"btn btn-info",onClick:c[0]||(c[0]=(...p)=>s.handleCancel&&s.handleCancel(...p))},"取消"),e.createElementVNode("button",{class:"btn btn-primary",onClick:t},"确定")])])):e.createCommentVNode("",!0)])}}},Ol={class:"lp-drawer__header"},Ll={class:"lp-drawer__title"},Pl={class:"lp-drawer__body"},Ml={__name:"drawer",props:{title:{type:String,default:"抽屉"},showClose:{type:Boolean,default:!0},direction:{type:String,default:"right",validator:n=>["right","left","top","bottom"].includes(n)}},emits:["close"],setup(n,{emit:o}){const a=n,t=o,l=e.computed(()=>`lp-drawer--${a.direction}`),s=()=>{t("close")};return(c,w)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-drawer",[l.value]])},[e.createElementVNode("div",Ol,[e.createElementVNode("span",Ll,e.toDisplayString(n.title),1),n.showClose?(e.openBlock(),e.createElementBlock("button",{key:0,class:"lp-drawer__close",onClick:s},"×")):e.createCommentVNode("",!0)]),e.createElementVNode("div",Pl,[e.renderSlot(c.$slots,"default")])],2))}},rt={appContext:null},Al=e.defineComponent({__name:"mask",props:{zIndex:{type:Number,default:999},visible:{type:Boolean,default:!0}},emits:["click","mounted"],setup(n,{expose:o,emit:a}){const t=e.ref(!1),l=a,s=e.inject("lp-layer:core");function c(){t.value=!0}s.on("close",c);function w(m){l("click",m)}function p(m){console.log("setEventsNone",m),t.value=m}return o({setEventsNone:p}),e.onUnmounted(()=>{s.off("close",c)}),(m,h)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-mask",{"pointer-events-none":t.value}]),style:e.normalizeStyle({zIndex:n.zIndex}),onClick:w},null,6))}});let he=!1,ct=0,ae=[];function Rl(){if(he)return;he=!0,ct=window.scrollY||document.documentElement.scrollTop;const n=Dl();document.body.classList.add("lp-layer-lock-scroll"),document.body.style.width=`calc(100vw - ${n}px)`}function Dl(){return window.innerWidth-document.documentElement.clientWidth}function Il(){he&&(he=!1,document.body.classList.remove("lp-layer-lock-scroll"),document.body.style.width="",window.scrollTo(0,ct))}function Wl(n){ae.push(n),ae.some(a=>dt(a))&&Rl()}function Hl(n){let o=ae.indexOf(n);o!==-1&&ae.splice(o,1),!ae.some(l=>dt(l))&&Il()}function dt(n){return n.options.lockBodyScroll!==null?!!n.options.lockBodyScroll:!!n.options.useMask}function Ul(){return ae}function ge(n){return ae.filter(o=>o.options.group===n)}class ql{constructor(o="x"){U(this,"mode","x");U(this,"justifyContent","start");U(this,"alignItems","start");U(this,"paddingSize",10);U(this,"spaceSize",16);U(this,"transitionDuration",300);U(this,"transitionTimingFunction","ease");U(this,"rowMaxWidth",0);U(this,"itemWidth",0);U(this,"itemsPerRow",0);U(this,"groupElement",null);this.mode=o,this.groupElement=document.createElement("div"),this.groupElement.classList.add("lp-layer-group")}renderGroupElement(){return this.groupElement&&!this.groupElement.parentElement&&document.body.appendChild(this.groupElement),this.groupElement}unmountGroupElement(){this.groupElement&&this.groupElement.parentElement&&this.groupElement.parentElement.removeChild(this.groupElement)}handleResize(){this.mode==="xy"&&(this.rowMaxWidth=window.innerWidth-this.paddingSize*2,this.updateLayersPosition())}setRowMaxWidth(o){return this.rowMaxWidth=o,this}setItemWidth(o){return this.itemWidth=o,this}setItemsPerRow(o){return this.itemsPerRow=o,this}transition(o,a="ease"){return this.transitionDuration=o,this.transitionTimingFunction=a,this}padding(o){return this.paddingSize=o,this}space(o){return this.spaceSize=o,this}align(o,a){return this.justifyContent=o,this.alignItems=a,this}initGroupContainerStyle(){this.groupElement&&(this.mode==="x"?(this.groupElement.style.flexDirection="row",this.groupElement.style.flexWrap="nowrap"):this.mode==="y"?(this.groupElement.style.flexDirection="column",this.groupElement.style.flexWrap="nowrap"):this.mode==="xy"&&(this.groupElement.style.flexDirection="row",this.groupElement.style.flexWrap="wrap"),this.justifyContent&&(this.groupElement.style.justifyContent=this.justifyContent),this.groupElement.style.alignItems=this.alignItems,this.groupElement.style.padding=`${this.paddingSize}px`,this.groupElement.style.gap=`${this.spaceSize}px`)}computePosition(o,a){if(a.options.follow&&a.options.follow.target)return;this.renderGroupElement(),this.initGroupContainerStyle(),ge(this).filter(c=>c.layerElement&&!c.closing);let l=a.getLayerInfo(),s=this.getOrCreatePlaceholder(a);s.style.width=`${l.width}px`,s.style.height=`${l.height}px`,this.mode==="xy"&&this.itemWidth>0&&(s.style.width=`${this.itemWidth}px`),requestAnimationFrame(()=>{const c=s.getBoundingClientRect();o.transform=`translate(${c.left}px, ${c.top}px)`,o.top="0",o.left="0",this.mode!=="x"&&(o.width=`${l.width}px`),this.mode!=="y"&&(o.height=`${l.height}px`),a.layerElement&&Object.entries(o).forEach(([w,p])=>{p!=null&&(a.layerElement.style[w]=p)})})}getOrCreatePlaceholder(o){this.groupElement||this.renderGroupElement();let a=`p-${o.id}`,t=document.getElementById(a);return t||(t=document.createElement("div"),t.id=a,t.className="lp-layer-placeholder",t.dataset.layerId=o.id,this.groupElement.appendChild(t)),t}updateLayersPosition(){this.renderGroupElement();const a=ge(this).filter(t=>t.layerElement&&!t.closing);a.forEach(t=>{t.groupResetStatus=1}),this.cleanupPlaceholders(a),a.forEach(t=>{if(t.layerElement){const l=t.getLayerInfo(),s=this.getOrCreatePlaceholder(t);s.style.width=`${l.width}px`,s.style.height=`${l.height}px`,this.mode==="xy"&&this.itemWidth>0&&(s.style.width=`${this.itemWidth}px`)}}),requestAnimationFrame(()=>{a.forEach(t=>{if(t.layerElement){const l=`p-${t.id}`,s=document.getElementById(l);if(s){const c=s.getBoundingClientRect(),w=t.layerElement.style;let p=Object.assign({},{transform:w.transform,transition:w.transition,top:w.top,left:w.left,right:w.right,bottom:w.bottom,width:w.width,height:w.height});p.transform=`translate(${c.left}px, ${c.top}px)`,p.transition=`transform ${this.transitionDuration}ms ${this.transitionTimingFunction}`,p.top="0",p.left="0";const m=t.getLayerInstance();m&&m.exposed&&m.exposed.changeContainerStyle(p)}}})})}cleanupPlaceholders(o){if(!this.groupElement)return;const a=this.groupElement.querySelectorAll(".lp-layer-placeholder"),t=new Set(o.map(l=>l.id));a.forEach(l=>{const s=l.getAttribute("data-layer-id");s&&!t.has(s)&&l.remove()})}regResizeEvent(){window.addEventListener("resize",this.handleResize.bind(this))}unregResizeEvent(){typeof window<"u"&&window.removeEventListener("resize",this.handleResize.bind(this))}getLayers(){return ge(this).filter(a=>a.layerElement&&!a.closing)}}let Kl=1e3;const Gl={dialog:it,drawer:Ml};class te{constructor(){U(this,"id","");U(this,"layerInstance",null);U(this,"groupResetStatus",0);U(this,"options");U(this,"layerVnode",null);U(this,"contentVnode",null);U(this,"maskLayer",null);U(this,"closing",!1);U(this,"layerZIndex",0);U(this,"maskZIndex",0);U(this,"containerEl",null);U(this,"layerElement",null);U(this,"createTime",0);this.options={component:null,useMask:!1,transition:"fade",drawerDirection:"right",events:{},follow:{target:null,options:{position:"bottom-center"}},lockBodyScroll:null}}get vnode(){return this.layerVnode}static src(o){const a=new te;return a.options.component=o,a.id=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),a.createTime=Date.now(),a}model(o){return this.options.model=o,this}zIndex(o){return this.options.zIndex=o,this}on(o,a){return this.options.events[o]=a,this}off(o){return delete this.options.events[o],this}container(o,a={}){return typeof o=="string"?this.options.containerComponent=Gl[o]||null:this.options.containerComponent=o,this.options.containerProps=a,this}transitionComponent(o){return this.options.transitionComponent=o,this}getTransitionComponent(){return this.options.transitionComponent}group(o){return this.options.group=o,this}props(o){return this.options.props=o,this}containerProps(o){return this.options.containerProps=o,this}containerModel(o){return this.options.containerModel=o,this}useMask(o=!0,a={}){return this.options.useMask=o,this.options.maskOptions=Object.assign({close:!0},a),this}lockBodyScroll(o=!0){return this.options.lockBodyScroll=o,this}transition(o){return this.options.transition=o,this}follow(o,a){if(typeof o!="string"&&!(o instanceof HTMLElement))throw console.error("Layer.follow - invalid target type, must be HTMLElement or string"),new Error("Follow target must be an HTMLElement or string");return this.options.follow={target:o,options:a},this}drawerDirection(o){return this.options.drawerDirection=o,this.options.transition=`drawer-${o}`,this}show(o={}){var p;this.closing=!1,this.options.follow&&this.options.follow.target?this.options.position={width:o.width||"auto",height:o.height||"auto"}:this.options.position=o;let a={onLayerFullscreen:()=>{console.log("进入或退出全屏"),this.layerInstance&&this.layerInstance.exposed&&this.layerInstance.exposed.toggleFullscreen()},onLayerUseFullscreen:()=>{console.log("进入全屏"),this.layerInstance&&this.layerInstance.exposed&&this.layerInstance.exposed.useFullscreen()},onLayerExitFullscreen:()=>{console.log("退出全屏"),this.layerInstance&&this.layerInstance.exposed&&this.layerInstance.exposed.exitFullscreen()},onLayerResize:m=>{console.log("缩放",m),this.layerInstance&&this.layerInstance.exposed&&this.layerInstance.exposed.resizeLayer(m)}};this.layerZIndex=this.options.zIndex||Kl++,this.maskZIndex=this.layerZIndex-1;const t=(m="layer")=>{this.closing||(this.hide(m),this.options.events.close&&this.options.events.close())},l=this.options.component.default||this.options.component;let s=e.createVNode(l,{modelValue:this.options.model,...this.options.props,"onUpdate:modelValue":m=>{this.options.model&&(this.options.model=m)},onClose:()=>{t("content")},...a,...Object.keys(this.options.events).reduce((m,h)=>(h!=="close"&&(m[`on${h.charAt(0).toUpperCase()+h.slice(1)}`]=(...P)=>{this.options.events[h]&&this.options.events[h](...P)}),m),{})}),c=null;if(this.options.containerComponent){const m=((p=this.options.containerComponent)==null?void 0:p.default)||this.options.containerComponent,h={...this.options.containerProps,modelValue:this.options.containerModel,onClose:()=>{t("container")},"onUpdate:modelValue":P=>{this.options.containerModel&&(this.options.containerModel=P)}};c=e.createVNode(m,h,{default:()=>[s]})}else c=s;return this.layerVnode=e.createVNode(xl,{position:this.options.position,zIndex:this.layerZIndex,transition:this.options.transition,onClose:()=>{t("layer")},onAfterLeave:()=>{this.handleAfterLeave()},layerObj:this,follow:this.options.follow||null},{default:()=>[c]}),this.contentVnode=s,this.layerVnode.appContext=rt.appContext,this.containerEl=this.getContainer(),this.options.useMask&&this.createMask(t),e.render(this.layerVnode,this.containerEl),this.layerElement=this.containerEl.firstElementChild,this.getAppendTo().appendChild(this.layerElement),Wl(this),this.options.group&&(this.options.group.renderGroupElement(),setTimeout(()=>{var m;(m=this.options.group)==null||m.updateLayersPosition()},50)),this}getAppendTo(){return this.options.group?document.body:this.options.appendTo?this.options.appendTo:document.body}handleAfterLeave(){if(this.options.group&&this.id){const a=`placeholder-${this.id}`,t=document.getElementById(a);t&&t.parentNode&&t.parentNode.removeChild(t)}this.removeElements(),Hl(this);const o=this.options.group;o&&o.updateLayersPosition()}getContainer(){return document.createElement("div")}createMask(o){this.maskLayer=te.src(Al).props({zIndex:this.maskZIndex,visible:!0}).on("click",a=>{var t;(t=this.options.maskOptions)!=null&&t.close&&o("mask"),this.emit("maskClick",a)}).zIndex(this.maskZIndex).transition("fade").useMask(!1),this.maskLayer.show({x:0,y:0,width:"100%",height:"100%"})}hide(o="layer"){if(!this.closing)if(this.closing=!0,this.maskLayer&&(this.maskLayer.hide(),this.maskLayer=null),this.layerVnode&&this.layerVnode.component&&this.layerVnode.component.exposed)try{this.layerVnode.component.exposed.close(o)}catch(a){console.error("Error closing layer:",a),this.removeElements()}else console.debug("exposed 不存在"),this.removeElements()}removeElements(){try{this.containerEl&&e.render(null,this.containerEl),this.layerElement&&this.layerElement.parentNode&&this.layerElement.parentNode.removeChild(this.layerElement),this.layerVnode=null,this.containerEl=null,this.layerElement=null}catch(o){console.error("Error removing layer elements:",o)}this.closing=!1}emit(o,...a){return this.options.events[o]&&this.options.events[o](...a),this}getLayerInfo(){return this.layerElement?{width:this.layerElement.offsetWidth,height:this.layerElement.offsetHeight,x:this.layerElement.offsetLeft,y:this.layerElement.offsetTop}:{width:0,height:0,x:0,y:0}}setLayerInstance(o){return this.layerInstance=o,this}getLayerInstance(){return this.layerInstance}close(){this.hide()}static closeAll(o=null){Ul().forEach(t=>{o&&!o(t)||t.close()})}static closeByGroup(o){ge(o).forEach(t=>{t.close()})}}async function pt(n,o){const a=await Promise.resolve().then(()=>hs);return te.src(a.default).props({message:n||"",duration:(o==null?void 0:o.duration)||2e3}).show({x:"center",y:"15vh",width:"auto",height:"auto"})}async function ut(n){const o=typeof n=="string"?{message:n}:n;return new Promise(async a=>{const t=await Promise.resolve().then(()=>_s),l=e.reactive({message:o.message||"确认执行此操作？"}),s={onConfirm:()=>{c.hide(),a(!0)},onCancel:()=>{c.hide(),a(!1)}},c=te.src(t.default).useMask().container("dialog").containerModel({title:o.title||"确认",showClose:!0}).model(l).props(s).show()})}async function ft(n){const o=typeof n=="string"?{message:n}:n;return new Promise(async a=>{const t=await Promise.resolve().then(()=>ks),l=e.reactive({message:o.message||""}),s={onClose:()=>{c.hide(),a()}},c=te.src(t.default).useMask().container("dialog").containerModel({title:o.title||"提示",showClose:!0}).model(l).props(s).show()})}const mt=Object.freeze(Object.defineProperty({__proto__:null,DialogContainer:it,Layer:te,LayerGroup:ql,alert:ft,confirm:ut,default:{install:n=>{n.config.globalProperties.$toast=pt,n.config.globalProperties.$confirm=ut,n.config.globalProperties.$alert=ft,n.config.globalProperties.$layer=te}},toast:pt},Symbol.toStringTag,{value:"Module"})),Xl={name:"lp-layout"},Le=e.defineComponent({...Xl,props:{type:{default:"flex"},cols:{},rows:{},gap:{},gapX:{},gapY:{},justifyContent:{},alignContent:{},justifyItems:{},alignItems:{},height:{},width:{},minHeight:{},minWidth:{},direction:{default:"column"},wrap:{type:Boolean,default:!1},template:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{}},setup(n){const o=n,a=e.computed(()=>{const l=[];return o.template?l.push("lp-grid-layout",o.template):o.type==="grid"?(l.push("lp-grid"),o.cols&&(typeof o.cols=="number"?l.push(`cols-${o.cols}`):l.push(`cols-${o.cols}`)),o.rows&&(typeof o.rows=="number"?l.push(`rows-${o.rows}`):typeof o.rows=="string"&&l.push(`rows-${o.rows}`)),o.gap!==void 0&&typeof o.gap=="number"&&l.push(`gap-${o.gap}`),o.gapX!==void 0&&typeof o.gapX=="number"&&l.push(`gap-x-${o.gapX}`),o.gapY!==void 0&&typeof o.gapY=="number"&&l.push(`gap-y-${o.gapY}`),o.justifyContent&&l.push(`justify-${o.justifyContent}`),o.alignContent&&l.push(`align-${o.alignContent}`),o.justifyItems&&l.push(`justify-items-${o.justifyItems}`),o.alignItems&&l.push(`items-${o.alignItems}`),o.height==="100vh"?l.push("h-screen"):o.height==="100%"&&l.push("h-full"),o.minHeight==="100vh"?l.push("min-h-screen"):o.minHeight==="100%"&&l.push("min-h-full"),o.width==="100%"?l.push("w-full"):o.width==="100vw"&&l.push("w-screen")):(l.push("lp-layout"),o.direction&&l.push(o.direction),o.wrap&&l.push("wrap"),o.justifyContent&&o.alignItems&&l.push(`${o.justifyContent}-${o.alignItems}`)),l}),t=e.computed(()=>{const l={};return o.gridTemplateColumns&&(l.gridTemplateColumns=o.gridTemplateColumns),o.gridTemplateRows&&(l.gridTemplateRows=o.gridTemplateRows),o.gridTemplateAreas&&(l.gridTemplateAreas=o.gridTemplateAreas),o.gap&&typeof o.gap=="string"&&(l.gap=o.gap),o.gapX&&typeof o.gapX=="string"&&(l.columnGap=o.gapX),o.gapY&&typeof o.gapY=="string"&&(l.rowGap=o.gapY),o.height&&typeof o.height=="string"&&!["100vh","100%"].includes(o.height)?l.height=o.height:typeof o.height=="number"&&(l.height=`${o.height}px`),o.width&&typeof o.width=="string"&&!["100%","100vw"].includes(o.width)?l.width=o.width:typeof o.width=="number"&&(l.width=`${o.width}px`),o.minHeight&&typeof o.minHeight=="string"&&!["100vh","100%"].includes(o.minHeight)?l.minHeight=o.minHeight:typeof o.minHeight=="number"&&(l.minHeight=`${o.minHeight}px`),o.minWidth&&typeof o.minWidth=="string"?l.minWidth=o.minWidth:typeof o.minWidth=="number"&&(l.minWidth=`${o.minWidth}px`),l});return(l,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(a.value),style:e.normalizeStyle(t.value)},[e.renderSlot(l.$slots,"default")],6))}}),Yl={name:"lp-grid-item"},Pe=e.defineComponent({...Yl,props:{colSpan:{},rowSpan:{},colStart:{},colEnd:{},rowStart:{},rowEnd:{},justifySelf:{},alignSelf:{},area:{},gridColumn:{},gridRow:{}},setup(n){const o=n,a=e.computed(()=>{const l=["lp-grid-item"];return o.colSpan&&(typeof o.colSpan=="number"?l.push(`col-span-${o.colSpan}`):l.push(`col-span-${o.colSpan}`)),o.rowSpan&&(typeof o.rowSpan=="number"?l.push(`row-span-${o.rowSpan}`):l.push(`row-span-${o.rowSpan}`)),o.colStart&&l.push(`col-start-${o.colStart}`),o.colEnd&&l.push(`col-end-${o.colEnd}`),o.rowStart&&l.push(`row-start-${o.rowStart}`),o.rowEnd&&l.push(`row-end-${o.rowEnd}`),o.justifySelf&&l.push(`justify-self-${o.justifySelf}`),o.alignSelf&&l.push(`align-self-${o.alignSelf}`),l}),t=e.computed(()=>{const l={};return o.area&&(l.gridArea=o.area),o.gridColumn&&(l.gridColumn=o.gridColumn),o.gridRow&&(l.gridRow=o.gridRow),l});return(l,s)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(a.value),style:e.normalizeStyle(t.value)},[e.renderSlot(l.$slots,"default")],6))}}),Zl=Object.freeze(Object.defineProperty({__proto__:null,GridItem:Pe,Layout:Le,default:{install:n=>{n.component(Le.name,Le),n.component(Pe.name,Pe)}}},Symbol.toStringTag,{value:"Module"})),Fl={class:"item"},ht=Object.assign({name:"lp-list"},{props:{data:{type:[Array],default:()=>[]},listX:{type:Boolean,default:!1}},setup(n){return(o,a)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["list",{"list-x":n.listX}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.data,(t,l)=>(e.openBlock(),e.createElementBlock("div",Fl,[e.renderSlot(o.$slots,"default",{row:t})]))),256))],2))}}),Jl=Object.freeze(Object.defineProperty({__proto__:null,default:{install:n=>{n.component(ht.name,ht)}}},Symbol.toStringTag,{value:"Module"})),Ql={class:"lp-message"},gt=Object.assign({name:"lp-message"},{setup(n){return e.reactive({}),(o,a)=>(e.openBlock(),e.createElementBlock("div",Ql,e.toDisplayString(o.message),1))}}),es=Object.freeze(Object.defineProperty({__proto__:null,default:{install:n=>{n.component(gt.name,gt)}}},Symbol.toStringTag,{value:"Module"})),ts={class:"lp-panel"},os={key:0,class:"title"},ns={class:"body"},yt=Object.assign({name:"lp-panel"},{props:{title:{type:String,default:""}},emits:["change"],setup(n,{emit:o}){return(a,t)=>(e.openBlock(),e.createElementBlock("div",ts,[n.title?(e.openBlock(),e.createElementBlock("div",os,e.toDisplayString(n.title),1)):e.createCommentVNode("",!0),e.createElementVNode("div",ns,[e.renderSlot(a.$slots,"default")])]))}}),ls=Object.freeze(Object.defineProperty({__proto__:null,default:{install:n=>{n.component(yt.name,yt)}}},Symbol.toStringTag,{value:"Module"})),ss={class:"lp-layout"},as={name:"LpTable"},_t=e.defineComponent({...as,setup(n){return e.reactive({}),(o,a)=>(e.openBlock(),e.createElementBlock("div",ss," lp-table "))}}),is=Object.freeze(Object.defineProperty({__proto__:null,default:{install:n=>{n.component(_t.name,_t)}}},Symbol.toStringTag,{value:"Module"})),rs=["onClick"],cs={class:"text"},ds={name:"lp-tabs"},bt=e.defineComponent({...ds,props:e.mergeModels({keys:{default:()=>({value:"value",title:"title"})},type:{default:"default"},data:{default:()=>[]},full:{type:Boolean,default:!1},column:{type:Boolean,default:!1},modelType:{default:"field"},modelField:{default:void 0}},{modelValue:{},modelModifiers:{}}),emits:e.mergeModels(["change"],["update:modelValue"]),setup(n,{emit:o}){const a=e.useModel(n,"modelValue"),t=o,l=n;function s(p,m){return p[l.keys.value]??m}function c(p,m){return l.modelType==="index"?a.value===m:l.modelType==="field"&&l.modelField?a.value===p[l.modelField]:a.value===p[l.keys.value]}function w(p,m){let h;l.modelType==="index"?h=m:l.modelType==="field"&&l.modelField?h=p[l.modelField]:h=p[l.keys.value],a.value=h,t("change",{value:h,item:p,index:m})}return(p,m)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["lp-tabs",[{column:p.column,full:p.full},p.type?`type-${p.type}`:""]])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.data,(h,P)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["item",{active:c(h,P)}]),key:s(h,P),onClick:I=>w(h,P)},[e.createElementVNode("span",cs,e.toDisplayString(h[p.keys.title]),1)],10,rs))),128))],2))}}),ps=Object.freeze(Object.defineProperty({__proto__:null,default:{install:n=>{n.component(bt.name,bt)}}},Symbol.toStringTag,{value:"Module"}));function wt(n){const o=Object.assign({"./lp-empty/index.ts":St,"./lp-form/index.ts":Wo,"./lp-icon/index.ts":El,"./lp-layer/index.ts":mt,"./lp-layout/index.ts":Zl,"./lp-list/index.ts":Jl,"./lp-message/index.ts":es,"./lp-panel/index.ts":ls,"./lp-table/index.ts":is,"./lp-tabs/index.ts":ps});console.debug("%cglobalComponents","color:green",o),Object.keys(o).forEach(a=>{const t=o[a].default;yl(t)||n.use(t)})}console.debug("looplan-ui");const us={install(n){wt(n),rt.appContext=n._context}},fs={class:"lp-toast"},ms={class:"lp-toast-content"},hs=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"toast",props:{message:{type:String,default:""},duration:{type:Number,default:3e3}},emits:["close","shown"],setup(n,{emit:o}){const a=n,t=o;return e.onMounted(()=>{t("shown"),a.duration>0&&setTimeout(()=>{t("close")},a.duration)}),(l,s)=>(e.openBlock(),e.createElementBlock("div",fs,[e.createElementVNode("div",ms,[e.renderSlot(l.$slots,"default",{},()=>[e.createTextVNode(e.toDisplayString(n.message),1)])])]))}}},Symbol.toStringTag,{value:"Module"})),gs={class:"lp-confirm"},ys={class:"lp-confirm-content"},_s=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"confirm",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue","close","confirm","cancel"],setup(n,{emit:o}){const a=o,t=()=>{a("confirm",!0),a("close")},l=()=>{a("cancel",!1),a("close")};return(s,c)=>{var w;return e.openBlock(),e.createElementBlock("div",gs,[e.createElementVNode("div",ys,e.toDisplayString((w=n.modelValue)==null?void 0:w.message),1),e.createElementVNode("div",{class:"lp-confirm-btns"},[e.createElementVNode("button",{class:"lp-confirm-btn lp-confirm-cancel",onClick:l},"取消"),e.createElementVNode("button",{class:"lp-confirm-btn lp-confirm-ok",onClick:t},"确定")])])}}}},Symbol.toStringTag,{value:"Module"})),bs={class:"lp-alert"},ws={class:"lp-alert-content"},ks=Object.freeze(Object.defineProperty({__proto__:null,default:{__name:"alert",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(n,{emit:o}){const a=o,t=()=>{a("close")};return(l,s)=>{var c;return e.openBlock(),e.createElementBlock("div",bs,[e.createElementVNode("div",ws,e.toDisplayString((c=n.modelValue)==null?void 0:c.message),1),e.createElementVNode("div",{class:"lp-alert-btns"},[e.createElementVNode("button",{class:"lp-alert-btn lp-alert-ok",onClick:t},"确定")])])}}}},Symbol.toStringTag,{value:"Module"}));K.LpLayer=mt,K.default=us,K.registerLooplanUiComponents=wt,Object.defineProperties(K,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
